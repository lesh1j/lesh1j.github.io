const data={"Список таблиц":[{edges_229:"nodes_229","таблица ребер по партии 229":"таблица узлов по партии 229"},{edges_229:"dm_graph_detail_229","таблица ребер по партии 229":"Сводная инфомация о партии 229 (выводится в шапке графа)"}],edges_229:[{PK:"9220000/911001/00032101/229/392/0000000100/000000000/643/2813009927//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"1",EDGE_TYPE:"1",OUT_CO_CODE:"392",IN_CO_CODE:"643",QUANTITY:"12000",PRICE_MIN:"8900",PRICE_MAX:"8900",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1547067600",SID:"9220000/911001/00032101/229/392/0000000100/000000000",BID:"9220000/911001/00032101/229/643/2813009927/",OPERATIONS:"9220000/911001/00032101/229/10123000/100119/0000229/1547067600/0000000100/2813009927/1",PRICE_AVG:"8900",UPDATED:"1574930812",COST_RUB_NET:"106800000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/2130167854//643/2130167854//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"11",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"50",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1548201600",SID:"9220000/911001/00032101/229/643/2130167854/",BID:"9220000/911001/00032101/229/643/2130167854/clone",OPERATIONS:"9220000/911001/00032101/229/50/1548201600/2130167854/2130167854/11",PRICE_AVG:"9500",UPDATED:"1574930820",COST_RUB_NET:"475000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/2130167854//643/2130167854/000001009/1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"10",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"50",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1548115200",SID:"9220000/911001/00032101/229/643/2130167854/",BID:"9220000/911001/00032101/229/643/2130167854/000001009",OPERATIONS:"9220000/911001/00032101/229/53/1548115200/2130167854/2130167854/10",PRICE_AVG:"9500",UPDATED:"1574930812",COST_RUB_NET:"475000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/2130167854/000001010/643/2130167854//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"11",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"50",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1548201600",SID:"9220000/911001/00032101/229/643/2130167854/000001010",BID:"9220000/911001/00032101/229/643/2130167854/",OPERATIONS:"9220000/911001/00032101/229/50/1548201600/2130167854/2130167854/11",PRICE_AVG:"9500",UPDATED:"1574930812",COST_RUB_NET:"475000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/263602552551//643/772864453242//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"1000",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1548028800",SID:"9220000/911001/00032101/229/643/263602552551/",BID:"9220000/911001/00032101/229/643/772864453242/",OPERATIONS:"['9220000/911001/00032101/229/11/1547931600/263602552551/772864453242/2','9220000/911001/00032101/229/12/1548028800/263602552551/772864453242/2']",PRICE_AVG:"9500",UPDATED:"1574930812",COST_RUB_NET:"9500000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/2813009927//643/7708185150//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"5000",PRICE_MIN:"8900",PRICE_MAX:"8900",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"8010000",LAST_DOC_DATE:"1547510400",SID:"9220000/911001/00032101/229/643/2813009927/",BID:"9220000/911001/00032101/229/643/7708185150/",OPERATIONS:"9220000/911001/00032101/229/1/1547510400/2813009927/7708185150/2",PRICE_AVG:"8900",UPDATED:"1574930812",COST_RUB_NET:"44500000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/2813009927//643/7826731737//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"4000",PRICE_MIN:"9000",PRICE_MAX:"9000",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"6480000",LAST_DOC_DATE:"1547596800",SID:"9220000/911001/00032101/229/643/2813009927/",BID:"9220000/911001/00032101/229/643/7826731737/",OPERATIONS:"9220000/911001/00032101/229/2/1547596800/2813009927/7826731737/2",PRICE_AVG:"9000",UPDATED:"1574930812",COST_RUB_NET:"36000000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/6147019442//643/6147019442/000001005/1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"10",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"2000",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1547769600",SID:"9220000/911001/00032101/229/643/6147019442/",BID:"9220000/911001/00032101/229/643/6147019442/000001005",OPERATIONS:"9220000/911001/00032101/229/10123000/2001820/0000247/1547769600/6147019442/6147019442/10",PRICE_AVG:"9500",UPDATED:"1574930812",COST_RUB_NET:"19000000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/6518001188//643/6150049077//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"20000",PRICE_MIN:"9400",PRICE_MAX:"9400",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"33840000",LAST_DOC_DATE:"1547769600",SID:"9220000/911001/00032101/229/643/6518001188/",BID:"9220000/911001/00032101/229/643/6150049077/clone",OPERATIONS:"9220000/911001/00032101/229/100/1547769600/6518001188/6150049077/2",PRICE_AVG:"9400",UPDATED:"1574930812",COST_RUB_NET:"188000000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/7708185150//643/2130167854//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"300",PRICE_MIN:"9100",PRICE_MAX:"9100",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"4914",LAST_DOC_DATE:"1547769600",SID:"9220000/911001/00032101/229/643/7708185150/",BID:"9220000/911001/00032101/229/643/2130167854/",OPERATIONS:"9220000/911001/00032101/229/8/1547769600/7708185150/2130167854/2",PRICE_AVG:"9100",UPDATED:"1574930812",COST_RUB_NET:"2730000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/7708185150//643/6147019442//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"1000",PRICE_MIN:"9200",PRICE_MAX:"9200",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"1656000",LAST_DOC_DATE:"1547596800",SID:"9220000/911001/00032101/229/643/7708185150/",BID:"9220000/911001/00032101/229/643/6147019442/",OPERATIONS:"9220000/911001/00032101/229/4/1547596800/7708185150/6147019442/2",PRICE_AVG:"9200",UPDATED:"1574930812",COST_RUB_NET:"9200000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/7708185150//643/6518001188//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"2000",PRICE_MIN:"9200",PRICE_MAX:"9200",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"3312000",LAST_DOC_DATE:"1547683200",SID:"9220000/911001/00032101/229/643/7708185150/",BID:"9220000/911001/00032101/229/643/6518001188/",OPERATIONS:"9220000/911001/00032101/229/7/1547683200/7708185150/6518001188/2",PRICE_AVG:"9200",UPDATED:"1574930812",COST_RUB_NET:"18400000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/772864453242//643/772864453242/000001008/1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"10",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"500",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1547942400",SID:"9220000/911001/00032101/229/643/772864453242/",BID:"9220000/911001/00032101/229/643/772864453242/000001008",OPERATIONS:"9220000/911001/00032101/229/56/1547942400/772864453242/772864453242/10",PRICE_AVG:"9500",UPDATED:"1574930812",COST_RUB_NET:"4750000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/7826731737//643/6150049077//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"2000",PRICE_MIN:"9400",PRICE_MAX:"9400",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"3384000",LAST_DOC_DATE:"1548201600",SID:"9220000/911001/00032101/229/643/7826731737/",BID:"9220000/911001/00032101/229/643/6150049077/",OPERATIONS:"['9220000/911001/00032101/229/9/1547769600/7826731737/6150049077/2','9220000/911001/00032101/229/91/1548201600/7826731737/6150049077/2']",PRICE_AVG:"9400",UPDATED:"1574930812",COST_RUB_NET:"18800000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/7826731737//643/6518001188//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"1000",PRICE_MIN:"9200",PRICE_MAX:"9200",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"1656000",LAST_DOC_DATE:"1547672400",SID:"9220000/911001/00032101/229/643/7826731737/",BID:"9220000/911001/00032101/229/643/6518001188/",OPERATIONS:"9220000/911001/00032101/229/92/1547672400/7826731737/6518001188/2",PRICE_AVG:"9200",UPDATED:"1574930812",COST_RUB_NET:"9200000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"},{PK:"9220000/911001/00032101/229/643/7826731737//643/772864453242//1/",DT_ID:"10123000/100119/0000229",P_NUM:"229",OP_TYPE:"2",EDGE_TYPE:"1",OUT_CO_CODE:"643",IN_CO_CODE:"643",QUANTITY:"1000",PRICE_MIN:"9500",PRICE_MAX:"9500",BROKER:"false",VIO_FLAG:"false",TAX_AMOUNT:"0",LAST_DOC_DATE:"1547769600",SID:"9220000/911001/00032101/229/643/7826731737/",BID:"9220000/911001/00032101/229/643/772864453242/",OPERATIONS:"9220000/911001/00032101/229/10/1547769600/7826731737/772864453242/2",PRICE_AVG:"9500",UPDATED:"1574930812",COST_RUB_NET:"9500000",IPT:"10123000/100119/0000229/229",EDGE_TYPE_NAME:"реализация прямая"}],nodes_229:[{PK:"9220000/911001/00032101/229/392/0000000100/000000000",Level:"0",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"392/0000000100/000000000",TYPE:"18",STATUS:"2",ROOT:"true",LEAF:"false",CO_CODE:"392",CO_NAME:"Япония",FULL_NAME:"Sony Mobile Communications Inc.",SHORT_NAME:"Sony Mobile Communications Inc.",INN:"100",KPP:"0",DEBET:"0",CREDIT:"12000",BALANCE:"0",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"4",COST_IN:"0",COST_OUT:"0",PRICE_IN:"0",PRICE_OUT:"0",KRC:"0",TAX_AMOUNT_OUT:"0",ST_FLAG:"false"},{PK:"9220000/911001/00032101/229/643/2130167854/",Level:"3",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/2130167854/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"true",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Общество с ограниченной ответственностью ""Конкорд"""',SHORT_NAME:'ООО "Конкорд"',INN:"2130167854",KPP:"213001001",DEBET:"350",CREDIT:"50",BALANCE:"300",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"3205000",COST_OUT:"475000",PRICE_IN:"9157.14",PRICE_OUT:"9500",KRC:"0.04",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_IN:"['9220000/911001/00032101/229/643/7708185150//643/2130167854//1/','9220000/911001/00032101/229/643/2130167854/000001010/643/2130167854//1/']",EDGES_OUT:"9220000/911001/00032101/229/643/2130167854//643/2130167854/000001009/1/",PRICE_MIN_IN:"9100",PRICE_MAX_OUT:"9500",QUANTITY_MIN_IN:"300",QUANTITY_MAX_OUT:"50",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['2130167854/2019/1/10123000/100119/0000229/229/8/1547769600/7708185150/2','2130167854/2019/1/10123000/100119/0000229/229/53/1548115200/2130167854/10','2130167854/2019/1/10123000/100119/0000229/229/50/1548201600/2130167854/11']",PRICE_AVG:"9400",ST_FLAG:"false",LAST_DOC_DATE:"1548201600",PRICE_MIN:"9100",PRICE_MAX:"9500",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/2130167854/clone",Level:"3",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/2130167854/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"true",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Общество с ограниченной ответственностью ""Конкорд"""',SHORT_NAME:'ООО "Конкорд"',CLONE:!0,INN:"2130167854",KPP:"213001001",DEBET:"350",CREDIT:"50",BALANCE:"300",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"3205000",COST_OUT:"475000",PRICE_IN:"9157.14",PRICE_OUT:"9500",KRC:"0.04",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_IN:"['9220000/911001/00032101/229/643/7708185150//643/2130167854//1/','9220000/911001/00032101/229/643/2130167854/000001010/643/2130167854//1/']",EDGES_OUT:"9220000/911001/00032101/229/643/2130167854//643/2130167854/000001009/1/",PRICE_MIN_IN:"9100",PRICE_MAX_OUT:"9500",QUANTITY_MIN_IN:"300",QUANTITY_MAX_OUT:"50",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['2130167854/2019/1/10123000/100119/0000229/229/8/1547769600/7708185150/2','2130167854/2019/1/10123000/100119/0000229/229/53/1548115200/2130167854/10','2130167854/2019/1/10123000/100119/0000229/229/50/1548201600/2130167854/11']",PRICE_AVG:"9400",ST_FLAG:"false",LAST_DOC_DATE:"1548201600",PRICE_MIN:"9100",PRICE_MAX:"9500",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/2130167854/000001009",Level:"4",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/2130167854/000001009",TYPE:"24",STATUS:"2",ROOT:"false",LEAF:"true",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Общество с ограниченной ответственностью ""Конкорд"""',SHORT_NAME:'"Общество с ограниченной ответственностью ""Конкорд"""',INN:"2130167854",KPP:"000001009",DEBET:"50",CREDIT:"0",BALANCE:"0",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"4",COST_IN:"0",COST_OUT:"0",PRICE_IN:"0",PRICE_OUT:"0",KRC:"0",TAX_AMOUNT_OUT:"0",ST_FLAG:"false"},{PK:"9220000/911001/00032101/229/643/2130167854/000001010",Level:"2",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/2130167854/000001010",TYPE:"12",STATUS:"2",ROOT:"false",LEAF:"false",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Общество с ограниченной ответственностью ""Конкорд"""',SHORT_NAME:'"Общество с ограниченной ответственностью ""Конкорд"""',INN:"2130167854",KPP:"000001010",DEBET:"0",CREDIT:"50",BALANCE:"0",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"4",COST_IN:"0",COST_OUT:"0",PRICE_IN:"0",PRICE_OUT:"0",KRC:"0",TAX_AMOUNT_OUT:"0",ST_FLAG:"false"},{PK:"9220000/911001/00032101/229/643/263602552551/",Level:"2",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/263602552551/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"false",TAX_TYPE:"2",TAX_TYPE_NAME:"УСН",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:"ИП СИДОРОВ ЕВГЕНИЙ ВИКТОРОВИЧ",SHORT_NAME:"ИП СИДОРОВ Е.В.",INN:"263602552551",DEBET:"0",CREDIT:"1000",BALANCE:"-1000",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_INFO:'[{"RiskId":"9220000/911001/00032101/229/643/263602552551//2019/1/202/1574930935","Type":2,"Code":202,"Name":"Разрыв цепочки","ConnectedNodes":["643/6150049077/","643/772864453242/","643/2813009927/","643/7708185150/"]},{"RiskId":"9220000/911001/00032101/229/643/263602552551//2019/1/201/1571841965","Type":2,"Code":201,"Name":"Отрицательный остаток","ConnectedNodes":["643/6150049077/","643/772864453242/","643/2813009927/","643/7708185150/"]}]',RISK_LEVEL:"1",COST_IN:"0",COST_OUT:"9500000",PRICE_IN:"0",PRICE_OUT:"9500",KRC:"0",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_OUT:"9220000/911001/00032101/229/643/263602552551//643/772864453242//1/",PRICE_MAX_OUT:"9500",QUANTITY_MAX_OUT:"1000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['263602552551/2019/1/10123000/100119/0000229/229/12/1548028800/263602552551/2','263602552551/2019/1/10123000/100119/0000229/229/11/1547931600/263602552551/2']",PRICE_AVG:"9500",ST_FLAG:"false",LAST_DOC_DATE:"1548028800",PRICE_MIN:"9500",PRICE_MAX:"9500",CONNECT_NODES:"['643/6150049077/','643/772864453242/','643/2813009927/','643/7708185150/']",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/2813009927/",Level:"1",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/2813009927/",TYPE:"5",STATUS:"1",ROOT:"true",LEAF:"false",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:"Общество с ограниченной ответственностью ТРАНСКАМПАНИ",SHORT_NAME:'ООО "ТРАНСКАМПАНИ"',INN:"2813009927",KPP:"281301001",DEBET:"12000",CREDIT:"9000",BALANCE:"3000",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"106800000",COST_OUT:"80500000",PRICE_IN:"8900",PRICE_OUT:"8944.44",KRC:"0",DAMAGE:"14490000",OKPD2_LIST:"26.20.17",EDGES_IN:"9220000/911001/00032101/229/392/0000000100/000000000/643/2813009927//1/",EDGES_OUT:"['9220000/911001/00032101/229/643/2813009927//643/7708185150//1/','9220000/911001/00032101/229/643/2813009927//643/7826731737//1/']",PRICE_MIN_IN:"8900",PRICE_MAX_OUT:"9000",QUANTITY_MIN_IN:"12000",QUANTITY_MAX_OUT:"4000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"14490000",OPERATIONS:"['2813009927/2019/1/10123000/100119/0000229/229/10123000/100119/0000229/1547067600/0000000100/1','2813009927/2019/1/10123000/100119/0000229/229/1/1547510400/2813009927/2','2813009927/2019/1/10123000/100119/0000229/229/2/1547596800/2813009927/2']",PRICE_AVG:"8950",ST_FLAG:"false",LAST_DOC_DATE:"1547596800",PRICE_MIN:"8900",PRICE_MAX:"9000",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/6147019442/",Level:"3",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/6147019442/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"true",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Акционерное общество  ""Кронмикс"""',SHORT_NAME:'АО "Кронмикс"',INN:"6147019442",KPP:"614701001",DEBET:"1000",CREDIT:"2000",BALANCE:"-1000",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_INFO:'[{"RiskId":"9220000/911001/00032101/229/643/6147019442//2019/1/206/1574930934","Type":3,"ConnectedRnpt":[{"IPT":"10123000/100119/0000229/329","Balance":"2000"},{"IPT":"10123000/100119/0000229/9","Balance":"1000"}],"MixBalance":"2000","Name":"Пересортица/Отрицательный остаток"}]',RISK_LEVEL:"2",COST_IN:"9200000",COST_OUT:"19000000",PRICE_IN:"9200",PRICE_OUT:"9500",KRC:"0.03",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_IN:"9220000/911001/00032101/229/643/7708185150//643/6147019442//1/",EDGES_OUT:"9220000/911001/00032101/229/643/6147019442//643/6147019442/000001005/1/",PRICE_MIN_IN:"9200",PRICE_MAX_OUT:"9500",QUANTITY_MIN_IN:"1000",QUANTITY_MAX_OUT:"2000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['6147019442/2019/1/10123000/100119/0000229/229/4/1547596800/7708185150/2','6147019442/2019/1/10123000/100119/0000229/229/10123000/2001820/0000247/1547769600/6147019442/10']",PRICE_AVG:"9350",ST_FLAG:"false",LAST_DOC_DATE:"1547769600",PRICE_MIN:"9200",PRICE_MAX:"9500",CONNECT_NODES:"['643/772864453242/','643/2813009927/','643/7708185150/']",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/6147019442/000001005",Level:"4",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/6147019442/000001005",TYPE:"20",STATUS:"2",ROOT:"false",LEAF:"true",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Акционерное общество  ""Кронмикс"""',SHORT_NAME:'"Акционерное общество  ""Кронмикс"""',INN:"6147019442",KPP:"000001005",DEBET:"2000",CREDIT:"0",BALANCE:"0",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"4",COST_IN:"0",COST_OUT:"0",PRICE_IN:"0",PRICE_OUT:"0",KRC:"0",TAX_AMOUNT_OUT:"0",ST_FLAG:"false"},{PK:"9220000/911001/00032101/229/643/6150049077/",Level:"4",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/6150049077/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"false",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'Общество с ограниченной ответственностью "Сландек"',SHORT_NAME:'ООО "Сландек"',INN:"6150049077",KPP:"615001001",DEBET:"22000",CREDIT:"0",BALANCE:"22000",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"206800000",COST_OUT:"0",PRICE_IN:"9400",PRICE_OUT:"0",KRC:"0",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_IN:"['9220000/911001/00032101/229/643/6518001188//643/6150049077//1/','9220000/911001/00032101/229/643/7826731737//643/6150049077//1/']",PRICE_MIN_IN:"9400",QUANTITY_MIN_IN:"22000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['6150049077/2019/1/10123000/100119/0000229/229/9/1547769600/7826731737/2','6150049077/2019/1/10123000/100119/0000229/229/91/1548201600/7826731737/2','6150049077/2019/1/10123000/100119/0000229/229/100/1547769600/6518001188/2']",PRICE_AVG:"9400",ST_FLAG:"false",LAST_DOC_DATE:"1548201600",PRICE_MIN:"9400",PRICE_MAX:"9400",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/6150049077/clone",Level:"4",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/6150049077/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"false",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'Общество с ограниченной ответственностью "Сландек"',SHORT_NAME:'ООО "Сландек"',CLONE:!0,INN:"6150049077",KPP:"615001001",DEBET:"22000",CREDIT:"0",BALANCE:"22000",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"206800000",COST_OUT:"0",PRICE_IN:"9400",PRICE_OUT:"0",KRC:"0",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_IN:"['9220000/911001/00032101/229/643/6518001188//643/6150049077//1/','9220000/911001/00032101/229/643/7826731737//643/6150049077//1/']",PRICE_MIN_IN:"9400",QUANTITY_MIN_IN:"22000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['6150049077/2019/1/10123000/100119/0000229/229/9/1547769600/7826731737/2','6150049077/2019/1/10123000/100119/0000229/229/91/1548201600/7826731737/2','6150049077/2019/1/10123000/100119/0000229/229/100/1547769600/6518001188/2']",PRICE_AVG:"9400",ST_FLAG:"false",LAST_DOC_DATE:"1548201600",PRICE_MIN:"9400",PRICE_MAX:"9400",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/6518001188/",Level:"3",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/6518001188/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"false",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Общество с ограниченной ответственностью   ""Анонс"""',SHORT_NAME:'ООО "Анонс"',INN:"6518001188",KPP:"651801001",DEBET:"3000",CREDIT:"20000",BALANCE:"-17000",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_INFO:'[{"RiskId":"9220000/911001/00032101/229/643/6518001188//2019/1/201/1571841963","Type":2,"Code":201,"Name":"Отрицательный остаток","ConnectedNodes":[]}]',RISK_LEVEL:"2",COST_IN:"27600000",COST_OUT:"188000000",PRICE_IN:"9200",PRICE_OUT:"9400",KRC:"0.02",DAMAGE:"33840000",OKPD2_LIST:"26.20.17",EDGES_IN:"['9220000/911001/00032101/229/643/7708185150//643/6518001188//1/','9220000/911001/00032101/229/643/7826731737//643/6518001188//1/']",EDGES_OUT:"9220000/911001/00032101/229/643/6518001188//643/6150049077//1/",PRICE_MIN_IN:"9200",PRICE_MAX_OUT:"9400",QUANTITY_MIN_IN:"3000",QUANTITY_MAX_OUT:"20000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"33840000",OPERATIONS:"['6518001188/2019/1/10123000/100119/0000229/229/7/1547683200/7708185150/2','6518001188/2019/1/10123000/100119/0000229/229/92/1547672400/7826731737/2','6518001188/2019/1/10123000/100119/0000229/229/100/1547769600/6518001188/2']",PRICE_AVG:"9250",ST_FLAG:"false",LAST_DOC_DATE:"1547769600",PRICE_MIN:"9200",PRICE_MAX:"9400",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/7708185150/",Level:"2",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/7708185150/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"false",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Закрытое акционерное общество ""Сириус"""',SHORT_NAME:'ЗАО "Сириус"',INN:"7708185150",KPP:"770801001",DEBET:"5000",CREDIT:"3300",BALANCE:"1700",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_INFO:'[{"RiskId":"9220000/911001/00032101/229/643/7708185150//2019/1/206/1574930937","Type":3,"ConnectedRnpt":[{"IPT":"10123000/100119/0000229/9","Balance":"-300"}],"MixBalance":"1400","Name":"Пересортица/Отрицательный остаток"},{"RiskId":"9220000/911001/00032101/229/643/7708185150//2019/1/206/1574930941","Type":3,"ConnectedRnpt":[{"IPT":"10123000/100119/0000229/329","Balance":"-300"}],"MixBalance":"1400","Name":"Пересортица/Отрицательный остаток"}]',RISK_LEVEL:"3",COST_IN:"44500000",COST_OUT:"30330000",PRICE_IN:"8900",PRICE_OUT:"9190.91",KRC:"0.03",DAMAGE:"4972914",OKPD2_LIST:"26.20.17",EDGES_IN:"9220000/911001/00032101/229/643/2813009927//643/7708185150//1/",EDGES_OUT:"['9220000/911001/00032101/229/643/7708185150//643/2130167854//1/','9220000/911001/00032101/229/643/7708185150//643/6518001188//1/','9220000/911001/00032101/229/643/7708185150//643/6147019442//1/']",PRICE_MIN_IN:"8900",PRICE_MAX_OUT:"9200",QUANTITY_MIN_IN:"5000",QUANTITY_MAX_OUT:"3000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"4972914",OPERATIONS:"['7708185150/2019/1/10123000/100119/0000229/229/8/1547769600/7708185150/2','7708185150/2019/1/10123000/100119/0000229/229/4/1547596800/7708185150/2','7708185150/2019/1/10123000/100119/0000229/229/1/1547510400/2813009927/2','7708185150/2019/1/10123000/100119/0000229/229/7/1547683200/7708185150/2']",PRICE_AVG:"9037.5",ST_FLAG:"false",LAST_DOC_DATE:"1547769600",PRICE_MIN:"8900",PRICE_MAX:"9200",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/772864453242/",Level:"3",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/772864453242/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"true",TAX_TYPE:"2",TAX_TYPE_NAME:"УСН",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:"ИП ИВАНОВ ИВАН ПЕТРОВИЧ",SHORT_NAME:"ИП ИВАНОВ И.П.",INN:"772864453242",DEBET:"2000",CREDIT:"500",BALANCE:"1500",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"19000000",COST_OUT:"4750000",PRICE_IN:"9500",PRICE_OUT:"9500",KRC:"0",DAMAGE:"0",OKPD2_LIST:"26.20.17",EDGES_IN:"['9220000/911001/00032101/229/643/263602552551//643/772864453242//1/','9220000/911001/00032101/229/643/7826731737//643/772864453242//1/']",EDGES_OUT:"9220000/911001/00032101/229/643/772864453242//643/772864453242/000001008/1/",PRICE_MIN_IN:"9500",PRICE_MAX_OUT:"9500",QUANTITY_MIN_IN:"2000",QUANTITY_MAX_OUT:"500",UNIT_CODE:"796",TAX_AMOUNT_OUT:"0",OPERATIONS:"['772864453242/2019/1/10123000/100119/0000229/229/11/1547931600/263602552551/2','772864453242/2019/1/10123000/100119/0000229/229/10/1547769600/7826731737/2','772864453242/2019/1/10123000/100119/0000229/229/56/1547942400/772864453242/10','772864453242/2019/1/10123000/100119/0000229/229/12/1548028800/263602552551/2']",PRICE_AVG:"9500",ST_FLAG:"false",LAST_DOC_DATE:"1548028800",PRICE_MIN:"9500",PRICE_MAX:"9500",TNVED:"8528421000"},{PK:"9220000/911001/00032101/229/643/772864453242/000001008",Level:"4",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/772864453242/000001008",TYPE:"23",STATUS:"2",ROOT:"false",LEAF:"true",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:"ИП ИВАНОВ ИВАН ПЕТРОВИЧ",SHORT_NAME:"ИП ИВАНОВ ИВАН ПЕТРОВИЧ",INN:"772864453242",KPP:"000001008",DEBET:"500",CREDIT:"0",BALANCE:"0",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"4",COST_IN:"0",COST_OUT:"0",PRICE_IN:"0",PRICE_OUT:"0",KRC:"0",TAX_AMOUNT_OUT:"0",ST_FLAG:"false"},{PK:"9220000/911001/00032101/229/643/7826731737/",Level:"2",DT_ID:"10123000/100119/0000229",P_NUM:"229",ID:"643/7826731737/",TYPE:"5",STATUS:"1",ROOT:"false",LEAF:"false",TAX_TYPE:"1",TAX_TYPE_NAME:"ОСНО",CO_CODE:"643",CO_NAME:"Россия",FULL_NAME:'"Закрытое акционерное общество ""ЮНИОН"""',SHORT_NAME:'ЗАО "ЮНИОН"',INN:"7826731737",KPP:"780101001",DEBET:"4000",CREDIT:"4000",BALANCE:"0",IN_BR:"0",OUT_BR:"0",BALANCE_BR:"0",RISK_LEVEL:"3",COST_IN:"36000000",COST_OUT:"37500000",PRICE_IN:"9000",PRICE_OUT:"9375",KRC:"0.04",DAMAGE:"5040000",OKPD2_LIST:"26.20.17",EDGES_IN:"9220000/911001/00032101/229/643/2813009927//643/7826731737//1/",EDGES_OUT:"['9220000/911001/00032101/229/643/7826731737//643/6150049077//1/','9220000/911001/00032101/229/643/7826731737//643/772864453242//1/','9220000/911001/00032101/229/643/7826731737//643/6518001188//1/']",PRICE_MIN_IN:"9000",PRICE_MAX_OUT:"9500",QUANTITY_MIN_IN:"4000",QUANTITY_MAX_OUT:"1000",UNIT_CODE:"796",TAX_AMOUNT_OUT:"5040000",OPERATIONS:"['7826731737/2019/1/10123000/100119/0000229/229/2/1547596800/2813009927/2','7826731737/2019/1/10123000/100119/0000229/229/9/1547769600/7826731737/2','7826731737/2019/1/10123000/100119/0000229/229/10/1547769600/7826731737/2','7826731737/2019/1/10123000/100119/0000229/229/91/1548201600/7826731737/2','7826731737/2019/1/10123000/100119/0000229/229/92/1547672400/7826731737/2']",PRICE_AVG:"9162.5",ST_FLAG:"false",LAST_DOC_DATE:"1548201600",PRICE_MIN:"9000",PRICE_MAX:"9500",TNVED:"8528421000"}],dm_graph_detail_229:[{PK:"Ключ записи",IPT:"Регистрационный номер партии товара = ДТ в обратном порядке + номер товара в ДТ",DT_ID:"Номер ДТ",P_NUM:"Номер товара в ДТ",ORIG_CO_CODE:"Страна происхождения (код)",ORIG_CO_NAME:"Наименование страны происхождения",TNVED:"Код ТНВЭД",OKPD2:"Код ОКПД2",OKPD2_LIST:"Массив кодов ОКПД2",P_NAME:"Описание товара",UNIT_CODE:"Код единицы измерения по перечню",UNIT_NAME:"Наименование единицы измерения по перечню",IMP_CNT:"Количество товара, выпущенного по ДТ",OUT_CNT:"Количество выбывшего товара",IN_CNT:"Количество возобновленного товара",BALANCE:"Остаток общий в прослеживаемости",PRICE_MIN:"Минимальная цена",PRICE_MAX:"Максимальная цена",IMP_COST:"Стоимость товара, выпущенного по ДТ",IMP_TAX:"Стоимость НДС",OUT_COST:"Стоимость выбывшего товара",OUT_TAX:"Стоимось возобновленного товара",ROOT_SOURCE:"Источник корневого документа (тип, 9 - ДТ)",ROOT_KEY:"Ссылка на корневой документ (здесь это ДТ)",CREATED:"Дата создания з-аписи",ROOT_MAIN_INN:"ИНН корневого узла",REC_INN:"ИНН получателя (для ДТ)",FR_INN:"ИНН лица, ответственного за финансирование (для  ДТ)",STATEMENT:"Ссылки на заяывления ",STATEMENT_INFO:"Json для ЭФ по заявлениям",ROOT_IDX:"Индекс корневого документа",UPDATED:"Дата обновления записи",ROOT_KPP:"КПП корневого узла",ROOT_NAME:"Наименование корневого узла",LAST_IN_OUT_DATE:"Дата последнего выбытия"},{PK:"9220000/911001/00032101/229",IPT:"10123000/100119/0000229/229",DT_ID:"10123000/100119/0000229",P_NUM:"229",ORIG_CO_CODE:"392",ORIG_CO_NAME:"JP",TNVED:"8528421000",OKPD2_LIST:"26.20.17",P_NAME:"Мониторы с электронно-лучевой трубкой",UNIT_CODE:"796",UNIT_NAME:"шт",IMP_CNT:"12000",OUT_CNT:"2550",IN_CNT:"50",BALANCE:"28500",PRICE_MIN:"8900",PRICE_MAX:"9500",IMP_COST:"106800000",IMP_TAX:"0",OUT_COST:"24225000",OUT_TAX:"0",ROOT_SOURCE:"9",ROOT_KEY:"9220000/911001/00032101/229",CREATED:"1570689322",ROOT_MAIN_INN:"2813009927",REC_INN:"2813009927",FR_INN:"2813009927",ROOT_IDX:"1",UPDATED:"1574851325",ROOT_KPP:"281301001",ROOT_NAME:"Общество с ограниченной ответственностью ТРАНСКАМПАНИ",LAST_IN_OUT_DATE:"1548201600"}]};function NpNodeShape(){}function TechNodeShape(){}function CountNodeShape(){}function main(){if(mxClient.isBrowserSupported()){var e=document.createElement("div");e.style.position="absolute",e.style.overflow="hidden",e.style.left="0px",e.style.top="0px",e.style.right="0px",e.style.bottom="0px";var t=document.getElementById("outlineContainer");mxEvent.disableContextMenu(e),mxClient.IS_QUIRKS&&(document.body.style.overflow="hidden",new mxDivResizer(e),new mxDivResizer(t)),mxClient.IS_IE&&new mxDivResizer(e),document.body.appendChild(e);var _=new mxGraph(e);_.setPanning(!0),_.centerZoom=!1,_.panningHandler.useLeftButtonForPanning=!0,_.graphHandler.scaleGrid=!0,new mxGraphHandler(_).setMoveEnabled(!1);new mxOutline(_,t);!function(){try{var t=document.createElement("canvas");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=-1,_.container.appendChild(t),_.gridSize=340;var E=t.getContext("2d"),T=mxGraphView.prototype.isContainerEvent;mxGraphView.prototype.isContainerEvent=function(e){return T.apply(this,arguments)||mxEvent.getSource(e)==t};var s=0,l=0,o=new mxPoint,n=0,I=0}catch(t){mxLog.show(),mxLog.debug("Using background image"),e.style.backgroundImage="url('editors/images/grid.gif')"}var A=mxGraphView.prototype.validateBackground;mxGraphView.prototype.validateBackground=function(){A.apply(this,arguments),function(){if(null!=E){var e=_.getGraphBounds(),T=Math.max(e.x+e.width,_.container.clientWidth),A=Math.max(e.y+e.height,_.container.clientHeight),r=T!=n||A!=I;if(_.view.scale!=s||_.view.translate.x!=o.x||l!=_.gridSize||r){o=_.view.translate.clone(),s=_.view.scale,l=_.gridSize,n=T,I=A,r?(t.setAttribute("width",n),t.setAttribute("height",I)):E.clearRect(0,0,n,I);var O=o.x*s,N=(o.y,_.gridSize*s),C=(Math.floor((0-O)/N),Math.ceil(n/N)*N);C+=Math.ceil(N);let e=1;for(var i=O+N;i<=C;i+=N)i=Math.round((i-O)/N)*N+O,Math.round(i),E.fillStyle=e%2==0?"#181e2f":"#1d2336",E.fillRect(i-60*s,0,N,I),E.fillStyle="#2a3043",E.font="bold "+64*s+"px Verdana",E.fillText(e,i-50*s,60*s),e++}}}()}}();var E=_.getStylesheet().getDefaultVertexStyle();E[mxConstants.STYLE_SHAPE]="np",E[mxConstants.STYLE_OPACITY]=100,E[mxConstants.STYLE_ROUNDED]=!0,E[mxConstants.STYLE_ARCSIZE]=50,E[mxConstants.STYLE_STROKECOLOR]="#5A6487",E[mxConstants.STYLE_STROKEWIDTH]="2",E[mxConstants.STYLE_FONTCOLOR]="#fff",E[mxConstants.STYLE_FONTFAMILY]="Fira Sans",E[mxConstants.STYLE_FONTSIZE]=14,E[mxConstants.STYLE_FILLCOLOR]="transparent",E[mxConstants.STYLE_IMAGE_ALIGN]=mxConstants.ALIGN_CENTER,E[mxConstants.STYLE_IMAGE_VERTICAL_ALIGN]=mxConstants.ALIGN_CENTER,E[mxConstants.STYLE_IMAGE_WIDTH]="40",E[mxConstants.STYLE_IMAGE_HEIGHT]="40";var T=_.getStylesheet().getDefaultEdgeStyle();mxEdgeStyle.MyStyle=function(e,t,E,T,s){if(null!=t&&null!=E){let e=!1;const T=_.getOutgoingEdges(t.cell);T.some(e=>e.target.isVisible()&&e.target.geometry.y>t.cell.geometry.y)&&T.some(e=>e.target.isVisible()&&e.target.geometry.y<t.cell.geometry.y)&&(e=!0);let o=!1;const n=_.getIncomingEdges(E.cell);n.some(e=>e.source.geometry.y>E.cell.geometry.y)&&n.some(e=>e.source.geometry.y<E.cell.geometry.y)&&(o=!0);var l=new mxPoint(t.x+t.width,t.y+t.height/2,e);s.push(l),l=new mxPoint(t.x+t.width+(E.x-(t.x+t.width))/6,t.y+t.height/2,e),s.push(l),n.length>1?t.cell.geometry.y<E.cell.geometry.y?(l=new mxPoint(E.x-(E.x-(t.x+t.width))/6*5,E.y),s.push(l),l=new mxPoint(E.x+24,E.y),s.push(l)):t.cell.geometry.y>E.cell.geometry.y?(l=new mxPoint(E.x-(E.x-(t.x+t.width))/6*5,E.y+E.height),s.push(l),l=new mxPoint(E.x+24,E.y+E.height),s.push(l)):(l=new mxPoint(E.x-(E.x-(t.x+t.width))/6*5,E.y+E.height/2,o),s.push(l),l=new mxPoint(E.x,E.y+E.height/2,o),s.push(l)):(l=new mxPoint(E.x-(E.x-(t.x+t.width))/6*5,E.y+E.height/2,o),s.push(l),l=new mxPoint(E.x,E.y+E.height/2,o),s.push(l))}},mxStyleRegistry.putValue("myEdgeStyle",mxEdgeStyle.MyStyle),mxEdgeStyle.firstEdgeStyle=function(e,t,_,E,T){if(null!=t&&null!=_){var s=new mxPoint(t.x+t.width/6.875,t.y+t.height);T.push(s),s=new mxPoint(_.x+t.width/6.875,_.y),T.push(s)}},mxStyleRegistry.putValue("firstEdgeStyle",mxEdgeStyle.firstEdgeStyle),T[mxConstants.STYLE_EDGE]=mxEdgeStyle.MyStyle,T[mxConstants.STYLE_ROUNDED]=!0,T[mxConstants.STYLE_ARCSIZE]=30,T[mxConstants.STYLE_ABSOLUTE_ARCSIZE]=!0,T[mxConstants.STYLE_STROKECOLOR]="#5A6487",T[mxConstants.STYLE_STROKEWIDTH]="2",T[mxConstants.STYLE_ENDARROW]="endOval",T[mxConstants.STYLE_STARTARROW]="startOval",T[mxConstants.STYLE_STARTSIZE]=11,T[mxConstants.STYLE_ENDSIZE]=11,T[mxConstants.STYLE_FONTCOLOR]="#859DE0",T[mxConstants.STYLE_FONTFAMILY]="Fira Sans",T[mxConstants.STYLE_FONTSIZE]=14;var s=new mxHierarchicalLayout(_,"west",!0);s.disableEdgeStyle=!1,s.resizeParent=!1,s.maintainParentLocation=!1,s.moveParent=!1,s.intraCellSpacing=36,s.interRankCellSpacing=120,s.interHierarchySpacing=190,s.parallelEdgeSpacing=474,s.tightenToSource=!1,s.traverseAncestors=!1;var l=new mxLayoutManager(_);l.getLayout=function(e){if(e.getChildCount()>0)return s},_.setCellsMovable(!1),_.setCellsResizable(!1);var o=_.getDefaultParent();const D=data.nodes_229.sort((e,t)=>e.Level-t.Level);var n,I={},A={};const p=e=>{let t;if(1==e.STATUS){let E="#5A6487";e.BALANCE<0&&(E="#F2696D");let T=`strokeColor=${E};`;e.CLONE?T+="cloneIcon=icons/icon_clone;":T+="valueIcon=icons/icon_value;",e.RISK_INFO&&(T+="eventIcon=icons/icon_resort;"),e.KRC>0&&!e.CLONE&&e.RISK_INFO,e.BALANCE<0&&e.BALANCE>-2e4?T+="riskIcon=icons/icon_ost;":e.BALANCE<-2e4?T+="riskIcon=icons/icon_ost_kr;":e.BALANCE_BR>0&&(T+="riskIcon=icons/icon_ost_pos;"),t=_.insertVertex(o,e.PK,"","","",220,64,T)}else if(2==e.STATUS){let E="#5A6487",T="";switch(e.TYPE){case"24":E="#5BB95B",T="icons/icon_tech_24.svg";break;case"12":E="#31ABC4",T="icons/icon_tech_12.svg";break;case"20":E="#859DE0",T="icons/icon_tech_20.svg";break;case"23":E="#F09456",T="icons/icon_tech_23.svg";break;case"18":T="icons/flag_japan.svg";break;default:E="#5A6487",T="icons/icon_tech_24.svg"}t=18==e.TYPE?_.insertVertex(o,e.PK,"","","",220,64,"shape=tech;arcSize=12;strokeColor="+E+";image="+T):_.insertVertex(o,e.PK,"","","",56,56,"shape=tech;arcSize=12;strokeColor="+E+";image="+T)}return t.setProps(e),t};_.getModel().beginUpdate();try{_.container.offsetHeight;D.forEach((e,t)=>{I[e.PK]=p(e)}),data.edges_229.forEach((e,t)=>{2==I[e.SID].props.STATUS&&0!=I[e.SID].props.Level?(A[t]=_.insertEdge(o,null,"",I[e.BID],I[e.SID],"align=left;verticalAlign=bottom;labelPosition=right;verticalLabelPosition=top;spacing=5"),A[t].setProps({...e,reverce:!0})):(A[t]=_.insertEdge(o,null,"",I[e.SID],I[e.BID],"align=left;verticalAlign=bottom;labelPosition=right;verticalLabelPosition=top;spacing=5"),A[t].setProps({...e,reverce:!1}))})}finally{_.getModel().endUpdate(),_.alignCells("top",_.getChildCells(n,!0,!1)),l.destroy(),(n=I["9220000/911001/00032101/229/392/0000000100/000000000"]).geometry.translate(340,-160),n.edges[0].setStyle("edgeStyle=firstEdgeStyle");const e=I["9220000/911001/00032101/229/643/2130167854/clone"];e.geometry.y=_.getIncomingEdges(e)[0].source.geometry.y;const t=I["9220000/911001/00032101/229/643/2130167854/000001009"];t.geometry.y=_.getIncomingEdges(t)[0].source.geometry.y-86;const E=I["9220000/911001/00032101/229/643/2130167854/000001010"];E.geometry.y=_.getIncomingEdges(E)[0].source.geometry.y+94;const T=I["9220000/911001/00032101/229/643/6147019442/000001005"];T.geometry.y=_.getIncomingEdges(T)[0].source.geometry.y+80;const s=I["9220000/911001/00032101/229/643/6150049077/clone"];s.geometry.y=_.getIncomingEdges(s)[0].source.geometry.y+65;const o=I["9220000/911001/00032101/229/643/772864453242/000001008"];o.geometry.y=_.getIncomingEdges(o)[0].source.geometry.y+4;for(let e in I)2==I[e].props.STATUS&&18!=I[e].props.TYPE&&I[e].geometry.translate(-82,0);_.refresh(),_.center(!0,!0,0,.5),_.view.setTranslate(_.view.translate.x+60,_.view.translate.y)}S=document,R=function(e){(e.deltaY||e.detail||e.wheelDelta)>0?_.zoomOut():_.zoomIn(),e.preventDefault()},S.addEventListener?"onwheel"in document?S.addEventListener("wheel",R):"onmousewheel"in document?S.addEventListener("mousewheel",R):S.addEventListener("MozMousePixelScroll",R):text.attachEvent("onmousewheel",R);var r={env:!1,envNode:null,risk:!1};const d=document.querySelector(".menu").querySelector("#environment");d.addEventListener("click",()=>{r.env||!r.envNode||r.risk?P(null):i(r.envNode),r.env=!r.env,d.classList.toggle("active")});let U=[];const M=document.querySelector(".risk-menu"),L=M.querySelector(".risk-menu__title"),m=M.querySelector(".risk-menu__items"),u=M.querySelector(".risk-menu__close"),y=M.querySelector(".risk"),h=y.querySelector(".risk__nodetitle"),g=y.querySelector(".risk__title"),f=y.querySelector(".risk__inn"),x=y.querySelector(".risk__rntps"),Y=y.querySelector(".risk__close");function O(e){N(),e.setProps({...e.props,menuIsOpen:!0});const t=JSON.parse(D.filter(t=>t.PK===e.id)[0].RISK_INFO);L.textContent=e.props.SHORT_NAME,m.innerHTML="",t.forEach((t,E)=>{const s=document.createElement("div");s.classList.add("risk-menu__item"),s.textContent=`${E+1}. ${t.Name}`,s.setAttribute("data-risk-num",E),s.addEventListener("click",()=>(function(e,t){C(),P(null);for(let e in I)I[e].setStyle(I[e].style+";opacity=10");const E=JSON.parse(e.props.RISK_INFO)[t];if((E.ConnectedNodes||[]).forEach(t=>{const E=D.filter(e=>e.ID===t);I[E[0].PK].setStyle(I[E[0].PK].style+";opacity=100"),mxStyleRegistry.putValue("ElbowConnector",mxEdgeStyle.ElbowConnector);const T=_.insertEdge(o,null,"",e,I[E[0].PK],"opacity=100;strokeColor=#8805ff;edgeStyle=ElbowConnector");T.setProps({...T.props,potencialCell:!0}),U.push(T)}),e.setStyle(e.style+";opacity=100"),T[mxConstants.STYLE_OPACITY]=10,_.refresh(),h.textContent=e.props.SHORT_NAME,g.textContent=E.Name,f.innerHTML="<span>ИНН:</span>"+e.props.INN,x.innerHTML="",E.ConnectedRnpt){const e=document.createElement("div");e.classList.add("risk__rntps-title"),e.textContent="Связанные РНТП:",x.appendChild(e),E.ConnectedRnpt.forEach(e=>{const t=document.createElement("div");t.classList.add("risk__rntps-item"),t.textContent=e.IPT,x.appendChild(t)})}y.style.display="block",r.risk=!0})(e,E)),m.appendChild(s)}),M.style.display="block"}function N(){M.style.display="none";for(let e in I)I[e].setProps({...I[e].props,menuIsOpen:!1});y.style.display="none"}function C(){_.removeCells(U),U.length=0;for(let e in I)I[e].setStyle(I[e].style+";opacity=100"),T[mxConstants.STYLE_OPACITY]=100;_.refresh(),a(),y.style.display="none",console.log(r.envNode),r.env&&r.envNode&&r.risk&&i(r.envNode),r.risk=!1}function i(e){_.getModel().beginUpdate();try{P(e),console.log(e.collapsed),c(_,e,e.collapsed),_.model.setCollapsed(e,!e.collapsed),r.envNode=e.collapsed?e:null,console.log(r.envNode)}finally{_.getModel().endUpdate(),a()}}function a(){_.view.setTranslate(_.view.translate.x+1,_.view.translate.y+1),_.view.setTranslate(_.view.translate.x-1,_.view.translate.y-1)}function P(e){for(let t in I)if(I[t]!=e){_.getModel().beginUpdate();try{c(_,I[t],!0),_.model.setCollapsed(I[t],!1)}finally{_.getModel().endUpdate()}}}u.addEventListener("click",N),Y.addEventListener("click",C),_.addListener(mxEvent.CLICK,function(e,t){t.properties.cell&&t.properties.cell.isVertex()&&"icon_resort"!=t.properties.event.target.className.baseVal?r.env&&!r.risk&&i(t.properties.cell):"icon_resort"!=t.properties.event.target.className.baseVal||t.properties.cell.props.menuIsOpen?t.properties.cell&&t.properties.cell.props.menuIsOpen&&N():O(t.properties.cell)})}else mxUtils.error("Browser is not supported!",200,!1);var S,R;let D=[];function c(e,t,_){_=null==_||_;var E=[];e.removeCells(D),D.length=0;for(let T in I){let s,l,o,n=!1;e.traverse(I[T],!0,function(e){if(e==t)return s=!0,!1}),I[T].edges.some(e=>e.source==t)&&(l=!0),I[T].edges.every(e=>e.source==I[T])&&(o=!0),0!=I[T].props.Level&&(n=!0),_?s||l||E.push(I[T]):s||l||o||E.push(I[T])}let T={};for(let t in I)E.includes(I[t])||(T[I[t].id]={childrenConut:0,clidrenCells:[]},e.traverse(I[t],!0,function(e){if(E.includes(e)){for(collapsedNode in T){const t=T[collapsedNode].clidrenCells.indexOf(e);-1!==t&&(T[collapsedNode].childrenConut--,delete T[collapsedNode].clidrenCells[t])}T[I[t].id].childrenConut++,T[I[t].id].clidrenCells.push(e)}}));if(!_)for(collapsedNode in T){let t;if(I[collapsedNode].edges.every(e=>e.source==I[collapsedNode])&&I[collapsedNode].edges.every(e=>E.includes(e.target))&&0!=I[collapsedNode].props.Level&&(t=!0),T[collapsedNode].childrenConut>0||t){let _;t?(_=I[collapsedNode],E.push(I[collapsedNode]),T[collapsedNode].childrenConut++):_=I[collapsedNode].edges.filter(e=>e.source==I[collapsedNode]&&E.includes(e.target))[0].target;const s=_.geometry.x,l=_.geometry.y,n=e.insertVertex(o,I[collapsedNode].id+"childrens","",s,l,80,64,"shape=CountNode;opacity=100");D.push(n),n.setProps({...n.props,countCell:!0,childrenConut:T[collapsedNode].childrenConut});const A=e.insertEdge(o,null,"",I[collapsedNode],n);0==I[collapsedNode].props.Level&&A.setStyle("edgeStyle=firstEdgeStyle"),A.setProps({...A.props,countCell:!0})}}e.toggleCells(_,E,!0)}}mxSvgCanvas2D.prototype.ellipse=function(e,t,_,E){var T=this.state,s=this.createElement("ellipse");s.setAttribute("cx",this.format((e+_/2+T.dx)*T.scale)),s.setAttribute("cy",this.format((t+E/2+T.dy)*T.scale)),s.setAttribute("rx",_/2*T.scale),s.setAttribute("ry",E/2*T.scale),this.node=s},mxSvgCanvas2D.prototype.image=function(e,t,_,E,T,s,l,o,n){T=this.converter.convert(T),s=null==s||s,l=null!=l&&l,o=null!=o&&o;var I=this.state;e+=I.dx,t+=I.dy;var A=this.createElement("image");A.setAttribute("x",this.format(e*I.scale)+this.imageOffset),A.setAttribute("y",this.format(t*I.scale)+this.imageOffset),A.setAttribute("width",this.format(_*I.scale)),A.setAttribute("height",this.format(E*I.scale)),null==A.setAttributeNS?A.setAttribute("xlink:href",T):A.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",T),s||A.setAttribute("preserveAspectRatio","none"),(I.alpha<1||I.fillAlpha<1)&&A.setAttribute("opacity",I.alpha*I.fillAlpha);var r=this.state.transform||"";if(l||o){var O=1,N=1,C=0,i=0;l&&(O=-1,C=-_-2*e),o&&(N=-1,i=-E-2*t),r+="scale("+O+","+N+")translate("+C*I.scale+","+i*I.scale+")"}r.length>0&&A.setAttribute("transform",r),this.pointerEvents||A.setAttribute("pointer-events","none"),A.setAttribute("class",n),this.root.appendChild(A),this.blockImagePointerEvents&&(A.setAttribute("style","pointer-events:none"),(A=this.createElement("rect")).setAttribute("visibility","hidden"),A.setAttribute("pointer-events","fill"),A.setAttribute("x",this.format(e*I.scale)),A.setAttribute("y",this.format(t*I.scale)),A.setAttribute("width",this.format(_*I.scale)),A.setAttribute("height",this.format(E*I.scale)),this.root.appendChild(A))},mxCell.prototype.setProps=function(e){this.props=e},mxMarker.addMarker("startOval",function(e,t,_,E,T,s,l,o,n,I){var A=l/2,r=E.clone();return E.x-=T*A,E.y-=s*A,function(){e.ellipse(r.x-A,r.y-A,l,l);const _=t.state.cell.source,E=_.geometry.x/340%2==0?"#181E2F":"#1d2336",T=_.getStyle().split(";").filter(e=>"strokeColor"===e.split("=")[0])[0].split("=")[1];e.setStrokeColor(E),e.setStrokeWidth(3),e.setFillColor(T),e.fillAndStroke()}}),mxMarker.addMarker("endOval",function(e,t,_,E,T,s,l,o,n,I){var A=l/2,r=E.clone();return E.x-=T*A,E.y-=s*A,function(){e.ellipse(r.x-A,r.y-A,l,l);const _=t.state.cell.target,E=_.geometry.x/340%2==0?"#181E2F":"#1d2336",T=_.getStyle().split(";").filter(e=>"strokeColor"===e.split("=")[0]);if(T.length>0){const t=T[0].split("=")[1];e.setFillColor(t)}else e.setFillColor("#5A6487");if(e.setStrokeColor(E),e.setStrokeWidth(3),e.fillAndStroke(),e.setFontColor("#859DE0"),e.setFontFamily("Fira Sans"),e.setFontSize(14),e.setFontStyle(1),t.state.cell.props&&t.state.cell.props.QUANTITY){let _="↓";t.state.cell.props.reverce&&(_="↑"),0==t.state.cell.source.props.Level?e.text(r.x+8,r.y-50,100,18,_+" "+t.state.cell.props.QUANTITY,"left","","",""):e.text(r.x-56,r.y-22,100,18,_+" "+t.state.cell.props.QUANTITY,"center","","","")}}}),NpNodeShape.prototype=new mxCylinder,NpNodeShape.prototype.constructor=NpNodeShape,NpNodeShape.prototype.apply=function(e){mxCylinder.prototype.apply.apply(this,arguments),this.state=e},NpNodeShape.prototype.paintVertexShape=function(e,t,_,E,T){var s=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,null);e.setShadow(!1),e.setStrokeColor(s),e.roundrect(t,_,E,T,33,50),e.stroke();var l=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,null),o=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,null);e.setFontColor(l),e.setFontFamily(o),e.setFontSize(14);const n=this.state.cell,I=n.geometry.x/340%2==0?"#181E2F":"#1d2336",A=mxUtils.getValue(this.style,"eventIcon");let r;switch(A){case"icons/icon_resort":r="icon_resort";break;default:r=""}A&&e.image(t+E-56,_+10,40,40,A+".svg",this.preserveImageAspect,!1,!1,r);const O=mxUtils.getValue(this.style,"valueIcon");O&&(e.image(t+28,_+14,16,16,O+"_"+s.slice(1,s.length)+".svg",this.preserveImageAspect,!1,!1),e.setFontStyle(1),e.text(t+36,_+34,52,18,n.props.BALANCE,"center","","",""));const N=mxUtils.getValue(this.style,"cloneIcon");N&&e.image(t+29,_+19,26,26,N+"_"+s.slice(1,s.length)+".svg",this.preserveImageAspect,!1,!1);const C=mxUtils.getValue(this.style,"riskIcon");let i,a;if(C&&("icons/icon_ost_kr"==C?e.image(t+E-53,_-16,32,32,C+".svg",this.preserveImageAspect,!1,!1):(e.ellipse(t+E-51,_-14,28,28),e.setFillColor(I),e.fill(),e.image(t+E-47,_-10,20,20,C+".svg",this.preserveImageAspect,!1,!1))),A?(i=t+68+43,a=12):(i=t+68+60,a=16),n.props&&n.props.SHORT_NAME){let t=n.props.SHORT_NAME;t.length>a&&(t=t.slice(0,a)+".."),e.setFontStyle(0),e.text(i,_+13,100,18,t,"center","","",""),e.text(i,_+34,100,18,n.props.INN,"center","","","")}},mxCellRenderer.registerShape("np",NpNodeShape),TechNodeShape.prototype=new mxCylinder,TechNodeShape.prototype.constructor=TechNodeShape,TechNodeShape.prototype.apply=function(e){mxCylinder.prototype.apply.apply(this,arguments),this.state=e},TechNodeShape.prototype.paintVertexShape=function(e,t,_,E,T){var s=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,null),l=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,null);e.setShadow(!1),e.setStrokeColor(s),e.roundrect(t,_,E,T,l,l),e.stroke();var o=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,null),n=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,null);e.setFontColor(o),e.setFontFamily(n),e.setFontSize(14);const I=this.state.cell,A=mxUtils.getValue(this.style,"image");let r=8,O=8;if(18==I.props.TYPE&&(r=16,O=12),A&&e.image(t+r,_+O,40,40,A,this.preserveImageAspect,!1,!1),18==I.props.TYPE){let E=I.props.SHORT_NAME;E.length>16&&(E=E.slice(0,16)+".."),e.setFontStyle(0),e.text(t+72,_+13,100,18,I.props.CO_NAME,"left","","",""),e.text(t+72,_+34,100,18,E,"left","","","")}},mxCellRenderer.registerShape("tech",TechNodeShape),CountNodeShape.prototype=new mxCylinder,CountNodeShape.prototype.constructor=CountNodeShape,CountNodeShape.prototype.apply=function(e){mxCylinder.prototype.apply.apply(this,arguments),this.state=e},CountNodeShape.prototype.paintVertexShape=function(e,t,_,E,T){var s=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,null);const l=this.state.cell,o=l.geometry.x/340%2==0?"#181E2F":"#1d2336";e.setShadow(!1),e.setStrokeColor(s),e.setFillColor(o),e.setAlpha(.2),e.roundrect(t+16,_,E-16,T,50,50),e.fillAndStroke(),e.setAlpha(.5),e.roundrect(t+8,_,E-16,T,50,50),e.fillAndStroke(),e.setAlpha(1),e.roundrect(t,_,E-16,T,50,50),e.fillAndStroke();var n=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,null),I=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,null);if(e.setFontColor(n),e.setFontFamily(I),e.setFontSize(16),l.props&&l.props.childrenConut){const E=l.props.childrenConut>5?"5+":""+l.props.childrenConut;e.setFontStyle(0),e.setFontSize(20),e.text(t+32,_+19,100,18,E,"center","","",""),e.setFontSize(14),e.setFontColor("#859DE0"),e.setFontStyle(1),e.text(t+90,_+11,100,18,"↓","left","","",""),e.setFontColor("#5BB95B"),e.text(t+90,_+37,100,18,"↑","left","","",""),e.setFontColor("#fff"),e.text(t+106,_+11,100,18,"0","left","","",""),e.text(t+106,_+37,100,18,""+l.props.childrenConut,"left","","","")}},mxCellRenderer.registerShape("CountNode",CountNodeShape),window.onload=function(){main()};
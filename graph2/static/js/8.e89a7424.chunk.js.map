{"version":3,"sources":["components/FileUploader/assets/file.svg","components/FileUploader/FileUploader.tsx","components/FileUploader/assets/error.svg","components/Textarea/Textarea.module.scss","components/FileUploader/FileUploader.module.scss","components/Textarea/Textarea.tsx","components/Textarea/index.ts","assets/icons/edit.svg","components/FileUploader/index.ts","components/TaxpayersLink/TaxpayersLink.module.scss","components/TaxpayersLink/TaxpayersLink.tsx","components/TaxpayersLink/index.ts","components/modals/DetailedLinkCluster/components/Accordion/Accordion.module.scss","components/modals/DetailedLinkCluster/components/Common/Common.module.scss","components/modals/DetailedLinkCluster/components/Edit/Edit.module.scss","components/modals/DetailedLinkCluster/components/History/History.module.scss","components/modals/DetailedLinkCluster/DetailedLinkCluster.module.scss","components/modals/DetailedLinkCluster/components/Accordion/Accordion.tsx","components/modals/DetailedLinkCluster/components/Common/Common.tsx","components/modals/DetailedLinkCluster/components/Edit/Edit.tsx","components/modals/DetailedLinkCluster/components/History/History.tsx","components/modals/DetailedLinkCluster/DetailedLinkCluster.tsx","components/modals/DetailedLinkCluster/index.ts"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","fill","SvgFile","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","ref","id","ForwardRef","FileItem","file","onItemRemove","getUploadedDocument","appTheme","disabled","document_id","file_name","className","styles","onClick","file__title","fileIcon","file__delete","name","e","theme","FileUploader","fileList","onFilesChange","buttonStyle","allowTypes","rtf","doc","docx","pdf","xls","xlsx","txt","useStores","commonStore","graphStore","inputRef","useRef","useState","dragActive","setDragActive","errors","setErrors","attachFiles","uploadedfiles","invalidFiles","streams","map","stream","filter","split","pop","push","stopPropagation","filteredFiles","item","onDrag","preventDefault","type","container","accept","onChange","files","multiple","style","display","label","field","active","onDragEnter","onDragLeave","onDragOver","onDrop","dataTransfer","current","click","mode","list","error","error__icon","cx","cy","r","_ref3","stroke","strokeLinecap","_ref4","SvgError","module","exports","Textarea","labelPosition","textareaStyle","wrapper","textarea","SvgEdit","TaxpayersLink","withArrow","taxpayers","withLabel","taxpayer","seller","line","line__top","line__left","line__bottom","triangle","inn","buyer","Accordion","children","isOpen","setIsOpen","accordion","header","arrow","body","Common","observer","linkId","clusterStore","getDetailedLink","commonData","pagination","startResult","page","count","endResult","common","total","table","row","date","parameter","period","paginationWrapper","nodata","Edit","linkData","invalidReasonsList","changeReasonsList","saveLink","initValues","invalidReason","find","reason_id","invalid_reason","editReason","change_reason","info_source","comment","description","attach_documents","isEditing","setIsEditing","values","setValues","hasChanges","setHasChanges","useEffect","prepareData","data","JSON","stringify","edit","Button","size","isActive","rightIcon","icon","onSubmit","edge_id","reason","isDropdown","col","Dropdown","items","onSelect","value","placeholder","Input","inputStyle","input","button","buttons","History","history","text","change_date","Date","toLocaleString","user_name","change_text","DetailedLinkCluster","onClose","showChangeLinks","showDeleteLink","ableEdit","Modal","withFooter","subtype_name","link","source_inn","source_name","target_inn","target_name","bottomBar"],"mappings":"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","file":"static/js/8.e89a7424.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.00002 0.00300002V0H16.998C17.55 0 18 0.455 18 0.992V19.008C17.9998 19.2712 17.895 19.5235 17.7088 19.7095C17.5226 19.8955 17.2702 20 17.007 20H0.993025C0.861702 19.9991 0.731845 19.9723 0.61087 19.9212C0.489895 19.8701 0.38017 19.7957 0.287961 19.7022C0.195752 19.6087 0.122864 19.4979 0.0734597 19.3762C0.0240555 19.2545 -0.000897804 19.1243 2.4673e-05 18.993V6L6.00002 0.00300002ZM2.83002 6H6.00002V2.83L2.83002 6ZM8.00002 2V7C8.00002 7.26522 7.89467 7.51957 7.70713 7.70711C7.5196 7.89464 7.26524 8 7.00002 8H2.00002V18H16V2H8.00002Z\",\n  fill: \"#006CE8\"\n});\n\nfunction SvgFile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 20,\n    viewBox: \"0 0 18 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.61152433.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, MouseEvent, ChangeEvent, DragEvent, useRef } from 'react';\r\nimport { useStores } from '../../hooks';\r\n\r\nimport { IFileUploaderProps, IFile } from './FileUploader.props';\r\n\r\nimport Button from '../Button';\r\nimport Icon from '../Icon';\r\n\r\nimport { ReactComponent as FileIcon } from './assets/file.svg';\r\nimport { ReactComponent as ErrorIcon } from './assets/error.svg';\r\n\r\nimport styles from './FileUploader.module.scss';\r\n\r\nconst FileItem = ({\r\n  file,\r\n  onItemRemove,\r\n  getUploadedDocument,\r\n  appTheme,\r\n  disabled,\r\n}: {\r\n  file: IFile;\r\n  onItemRemove: (e: MouseEvent, name: string) => void;\r\n  getUploadedDocument: (documentId: string, fileName: string) => void;\r\n  appTheme: string;\r\n  disabled?: boolean;\r\n}) => {\r\n  const { document_id, file_name } = file;\r\n\r\n  return (\r\n    <div\r\n      className={styles.file}\r\n      onClick={() => (document_id ? getUploadedDocument(document_id, file_name) : false)}\r\n    >\r\n      <div className={styles.file__title}>\r\n        <FileIcon className={styles.fileIcon} />\r\n        <span>{file_name}</span>\r\n      </div>\r\n\r\n      {!disabled && (\r\n        <Icon\r\n          className={styles.file__delete}\r\n          name=\"close\"\r\n          onClick={(e: MouseEvent) => onItemRemove(e, file_name)}\r\n          theme={appTheme}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst FileUploader = ({\r\n  className,\r\n  fileList = [],\r\n  onFilesChange,\r\n  disabled,\r\n  buttonStyle,\r\n  ...props\r\n}: IFileUploaderProps) => {\r\n  const commonAccept = `.xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel.doc,\r\n    .docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword.pdf,application/pdf,.txt,.rft`;\r\n\r\n  const allowTypes = {\r\n    rtf: true,\r\n    doc: true,\r\n    docx: true,\r\n    pdf: true,\r\n    xls: true,\r\n    xlsx: true,\r\n    txt: true,\r\n  };\r\n\r\n  const {\r\n    commonStore: { appTheme },\r\n    graphStore: { getUploadedDocument },\r\n  } = useStores();\r\n\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [dragActive, setDragActive] = useState<boolean>(false);\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n\r\n  const attachFiles = (uploadedfiles: File[]) => {\r\n    const invalidFiles: string[] = [];\r\n\r\n    const streams: IFile[] = uploadedfiles\r\n      .map((file: File) => ({\r\n        stream: file,\r\n        file_name: file.name,\r\n      }))\r\n      .filter(({ file_name }) => {\r\n        const fileExt = file_name.split('.').pop() as string;\r\n\r\n        if (fileExt in allowTypes) return true;\r\n\r\n        invalidFiles.push(file_name);\r\n      });\r\n\r\n    onFilesChange([...fileList, ...streams]);\r\n    setErrors([...invalidFiles]);\r\n  };\r\n\r\n  const onItemRemove = (e: MouseEvent, name: string): void => {\r\n    e.stopPropagation();\r\n\r\n    const filteredFiles = fileList.filter((item) => item.file_name !== name);\r\n    onFilesChange(filteredFiles);\r\n  };\r\n\r\n  const onDrag = (e: DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (e.type === 'dragenter' || e.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (e.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const onChangeFiles = (e: ChangeEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n\r\n    const files = e.target.files ? [...e.target.files] : [];\r\n    attachFiles(files);\r\n  };\r\n\r\n  const onDropFiles = (e: DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const files = e.dataTransfer.files ? [...e.dataTransfer.files] : [];\r\n    attachFiles(files);\r\n\r\n    setDragActive(false);\r\n  };\r\n\r\n  const onButtonClick = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n\r\n    inputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.container} ${className}`} {...props}>\r\n      <input\r\n        type=\"file\"\r\n        accept={commonAccept}\r\n        ref={inputRef}\r\n        onChange={onChangeFiles}\r\n        multiple\r\n        style={{ display: 'none' }}\r\n      />\r\n\r\n      {!disabled && (\r\n        <>\r\n          <span className={styles.label}>Добавить файлы</span>\r\n\r\n          <div\r\n            className={`${styles.field} ${dragActive && styles.active}`}\r\n            onDragEnter={onDrag}\r\n            onDragLeave={onDrag}\r\n            onDragOver={onDrag}\r\n            onDrop={onDropFiles}\r\n          >\r\n            <Button className={buttonStyle} onClick={onButtonClick} mode=\"secondary\">\r\n              Выберите файлы\r\n            </Button>\r\n\r\n            <span className={styles.title}>Перетащите сюда файлы для загрузки</span>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {fileList.length > 0 && (\r\n        <div className={styles.list}>\r\n          {fileList.map((file) => (\r\n            <FileItem\r\n              key={'file-list-item-' + file.file_name}\r\n              file={file}\r\n              onItemRemove={onItemRemove}\r\n              getUploadedDocument={getUploadedDocument}\r\n              appTheme={appTheme}\r\n              disabled={disabled}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <div className={styles.errors}>\r\n        {errors.map((error) => (\r\n          <div key={`fileError${error}`} className={styles.error}>\r\n            <ErrorIcon className={`${styles.error__icon}`} />\r\n            Указанный файл {error} имеет неподдерживаемый формат или испорчен. Укажите корректный\r\n            файл в одном из форматов: .rtf, .doc, .docx, .pdf, .xls, .xlsx, .txt.\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUploader;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 7.5,\n  cy: 7.5,\n  r: 7.5,\n  fill: \"#FF6161\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 4L11 11\",\n  stroke: \"white\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 4L4 11\",\n  stroke: \"white\",\n  strokeLinecap: \"round\"\n});\n\nfunction SvgError(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgError);\nexport default __webpack_public_path__ + \"static/media/error.4c15911a.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Textarea_wrapper__3gu4k\",\"top\":\"Textarea_top__1KR2a\",\"label\":\"Textarea_label__CZFNJ\",\"left\":\"Textarea_left__3apPz\",\"textarea\":\"Textarea_textarea__1526L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FileUploader_container__2gvO0\",\"field\":\"FileUploader_field__2bGUs\",\"active\":\"FileUploader_active__2VBpo\",\"title\":\"FileUploader_title__1IGrb\",\"list\":\"FileUploader_list__2-TZY\",\"file\":\"FileUploader_file__afdxV\",\"file__title\":\"FileUploader_file__title__2QN6_\",\"file__con\":\"FileUploader_file__con__2noNC\",\"file__delete\":\"FileUploader_file__delete__3wgAA\",\"error\":\"FileUploader_error__2N8vV\",\"error__icon\":\"FileUploader_error__icon__1_4lB\"};","import React from 'react';\r\nimport { ITextareaProps } from './Textarea.props';\r\nimport styles from './Textarea.module.scss';\r\n\r\nconst Textarea = ({\r\n  className,\r\n  label,\r\n  labelPosition = 'left',\r\n  textareaStyle,\r\n  ...props\r\n}: ITextareaProps) => {\r\n  return (\r\n    <label className={`${styles.wrapper} ${className} ${styles[labelPosition]}`}>\r\n      {label && <span className={`${styles.label}`}>{label}</span>}\r\n      <textarea className={`${styles.textarea} ${textareaStyle}`} {...props} />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","export { default } from './Textarea';\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.728 9.68608L14.314 8.27208L5 17.5861V19.0001H6.414L15.728 9.68608ZM17.142 8.27208L18.556 6.85808L17.142 5.44408L15.728 6.85808L17.142 8.27208ZM7.242 21.0001H3V16.7571L16.435 3.32208C16.6225 3.13461 16.8768 3.0293 17.142 3.0293C17.4072 3.0293 17.6615 3.13461 17.849 3.32208L20.678 6.15108C20.8655 6.33861 20.9708 6.59292 20.9708 6.85808C20.9708 7.12325 20.8655 7.37756 20.678 7.56508L7.243 21.0001H7.242Z\"\n});\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.f77cf35e.svg\";\nexport { ForwardRef as ReactComponent };","export { default } from './FileUploader';\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taxpayers\":\"TaxpayersLink_taxpayers__DuuDl\",\"withLabel\":\"TaxpayersLink_withLabel__2-zth\",\"line\":\"TaxpayersLink_line__1hSUg\",\"line__top\":\"TaxpayersLink_line__top__27797\",\"line__left\":\"TaxpayersLink_line__left__mZfVL\",\"line__bottom\":\"TaxpayersLink_line__bottom__30oVu\",\"triangle\":\"TaxpayersLink_triangle__yzfvv\",\"taxpayer\":\"TaxpayersLink_taxpayer__eeHHu\",\"label\":\"TaxpayersLink_label__2NlW-\"};","import React from 'react';\r\nimport { ITaxpayersLinkProps } from './TaxpayersLink.props';\r\nimport styles from './TaxpayersLink.module.scss';\r\n\r\nconst TaxpayersLink = ({\r\n  className,\r\n  target,\r\n  source,\r\n  withArrow = true,\r\n  ...props\r\n}: ITaxpayersLinkProps) => {\r\n  return (\r\n    <div\r\n      className={`${className} ${styles.taxpayers} ${source.label && styles.withLabel}`}\r\n      {...props}\r\n    >\r\n      <div className={`${styles.taxpayer} ${styles.seller}`}>\r\n        <div className={`${styles.line} ${styles.line__top}`}></div>\r\n        <div className={`${styles.line} ${styles.line__left}`}></div>\r\n        <div className={`${styles.line} ${styles.line__bottom}`}>\r\n          {withArrow && <div className={styles.triangle}></div>}\r\n        </div>\r\n\r\n        {source.label && <span className={styles.label}>{source.label}</span>}\r\n        <span className={styles.inn}>{source.inn}</span>\r\n        <span className={styles.name}>{source.name ?? 'Наименование не определено'}</span>\r\n      </div>\r\n\r\n      <div className={`${styles.taxpayer} ${styles.buyer}`}>\r\n        {target.label && <span className={styles.label}>{target.label}</span>}\r\n        <span className={styles.inn}>{target.inn}</span>\r\n        <span className={styles.name}>{target.name ?? 'Наименование не определено'}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaxpayersLink;\r\n","export { default } from './TaxpayersLink';\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Accordion_header__1I2y2\",\"arrow\":\"Accordion_arrow__1BxF5\",\"isOpen\":\"Accordion_isOpen__3Jeja\",\"name\":\"Accordion_name__3b8iS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"common\":\"Common_common__vXFLE\",\"nodata\":\"Common_nodata__3v5xr\",\"header\":\"Common_header__1zrWh\",\"table\":\"Common_table__2GhJ3\",\"row\":\"Common_row__1ip5V\",\"paginationWrapper\":\"Common_paginationWrapper__32TBa\",\"total\":\"Common_total__2LcbI\",\"pagination\":\"Common_pagination__1W1q9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"edit\":\"Edit_edit__Hhzhv\",\"header\":\"Edit_header__IHSiu\",\"icon\":\"Edit_icon__1DBJm\",\"body\":\"Edit_body__3dHfH\",\"row\":\"Edit_row__3ZtJt\",\"isDropdown\":\"Edit_isDropdown__2t2hB\",\"col\":\"Edit_col__3mkW2\",\"buttons\":\"Edit_buttons__7alJe\",\"files\":\"Edit_files__3vHMU\",\"button\":\"Edit_button__1Pxu6\",\"input\":\"Edit_input__16I45\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"History_history__2kqTr\",\"header\":\"History_header__2f9cc\",\"table\":\"History_table__2fpLd\",\"row\":\"History_row__1_rTV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DetailedLinkCluster_container__2cFUQ\",\"title\":\"DetailedLinkCluster_title__dHNs4\",\"link\":\"DetailedLinkCluster_link__1ruNP\",\"body\":\"DetailedLinkCluster_body__1xyiD\",\"bottomBar\":\"DetailedLinkCluster_bottomBar__2ggSp\"};","import React, { useState } from 'react';\r\nimport { IAccordionProps } from './Accordion.props';\r\n\r\nimport { ReactComponent as ArrowIcon } from 'assets/icons/arrow.svg';\r\n\r\nimport styles from './Accordion.module.scss';\r\n\r\nconst Accordion = ({ className, children, name, ...props }: IAccordionProps) => {\r\n  const [isOpen, setIsOpen] = useState<boolean>(true);\r\n\r\n  return (\r\n    <div className={`${className} ${styles.accordion}`} {...props}>\r\n      <div className={`${styles.header} ${isOpen && styles.isOpen}`}>\r\n        <div\r\n          className={`${styles.arrow} ${isOpen && styles.isOpen}`}\r\n          onClick={() => setIsOpen(!isOpen)}\r\n        >\r\n          <ArrowIcon />\r\n        </div>\r\n\r\n        <div className={`${styles.name} `} onClick={() => setIsOpen(!isOpen)}>\r\n          {name}\r\n        </div>\r\n      </div>\r\n\r\n      {isOpen && <div className={`${styles.body}`}>{children}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Accordion;\r\n","import React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { useStores } from 'hooks';\r\n\r\nimport { ICommonProps } from './Common.props';\r\n\r\nimport Accordion from '../Accordion';\r\n\r\nimport styles from './Common.module.scss';\r\nimport { Pagination } from '@fdc/vsa-react-lib';\r\n\r\nconst Common = observer(({ className, linkId, ...props }: ICommonProps) => {\r\n  const {\r\n    clusterStore: { getDetailedLink, commonData, pagination },\r\n  } = useStores();\r\n\r\n  const startResult = pagination.page * pagination.count + 1;\r\n  const endResult = (pagination.page + 1) * pagination.count;\r\n\r\n  return (\r\n    <Accordion\r\n      className={`${className} ${styles.common}`}\r\n      {...props}\r\n      name={`Общие (${pagination.total || 0})`}\r\n    >\r\n      {commonData.length > 0 ? (\r\n        <div className={styles.common}>\r\n          <table className={styles.table}>\r\n            <thead>\r\n              <tr className={`${styles.row} ${styles.header}`}>\r\n                <th className={styles.inn}>ИНН</th>\r\n                <th className={styles.name}>Наименование</th>\r\n                <th className={styles.date}>Период действия</th>\r\n                <th className={styles.parameter}>Параметр</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {commonData.map((item) => (\r\n                <tr className={`${styles.row}`} key={`common_link_${item.inn}`}>\r\n                  <td className={styles.inn}>{item.inn}</td>\r\n                  <td className={styles.name}>{item.name}</td>\r\n                  <td className={styles.date}>{item.period}</td>\r\n                  <td className={styles.parameter}>{item.parameter}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          <div className={styles.paginationWrapper}>\r\n            <span className={styles.total}>{`Показано ${startResult} - ${\r\n              endResult > pagination.total ? pagination.total : endResult\r\n            } из ${pagination.total}`}</span>\r\n            <Pagination\r\n              className={styles.pagination}\r\n              pagination={pagination}\r\n              onChange={({ page }) => getDetailedLink(linkId, page)}\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.nodata}>Нет данных для отображения</div>\r\n      )}\r\n    </Accordion>\r\n  );\r\n});\r\n\r\nexport default Common;\r\n","import React, { FormEvent, MouseEvent, useEffect, useState } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { useStores } from 'hooks';\r\n\r\nimport { IEdit, IEditProps } from './Edit.props';\r\n\r\nimport Button from 'components/Button';\r\nimport Dropdown from 'components/Dropdown';\r\nimport Input from 'components/Input';\r\nimport Textarea from 'components/Textarea';\r\nimport FileUploader from 'components/FileUploader';\r\n\r\nimport { ReactComponent as EditIcon } from 'assets/icons/edit.svg';\r\n\r\nimport styles from './Edit.module.scss';\r\n\r\nconst Edit = observer(({ className, linkData, ...props }: IEditProps) => {\r\n  const {\r\n    commonStore: { invalidReasonsList, changeReasonsList },\r\n    clusterStore: { saveLink },\r\n  } = useStores();\r\n\r\n  const initValues: IEdit = {\r\n    invalidReason:\r\n      invalidReasonsList.find(({ reason_id }) => reason_id + '' === linkData.invalid_reason + '')\r\n        ?.name || '',\r\n    editReason:\r\n      changeReasonsList.find(({ reason_id }) => reason_id + '' === linkData.change_reason + '')\r\n        ?.name || '',\r\n    source: linkData.info_source,\r\n    comment: linkData.description,\r\n    files: linkData.attach_documents,\r\n  };\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [values, setValues] = useState<IEdit>(initValues);\r\n  const [hasChanges, setHasChanges] = useState<boolean>(false);\r\n\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    saveLink({\r\n      ...values,\r\n      linkId: linkData.edge_id,\r\n      invalidReason: invalidReasonsList.find((reason) => reason.name === values.invalidReason)\r\n        ?.reason_id,\r\n      editReason: changeReasonsList.find((reason) => reason.name === values.editReason)?.reason_id,\r\n    });\r\n  };\r\n\r\n  const handleReset = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    setValues({ ...initValues });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValues(initValues);\r\n  }, [linkData]);\r\n\r\n  useEffect(() => {\r\n    const prepareData = (data: IEdit) =>\r\n      JSON.stringify({\r\n        ...data,\r\n        files: data.files.map(({ file_name }) => file_name),\r\n      });\r\n\r\n    setHasChanges(prepareData(values) !== prepareData(initValues));\r\n  }, [values, initValues]);\r\n\r\n  return (\r\n    <div className={`${className} ${styles.edit}`} {...props}>\r\n      <div className={styles.header}>\r\n        <Button\r\n          mode=\"outline\"\r\n          size=\"small\"\r\n          isActive={isEditing}\r\n          rightIcon={<EditIcon className={styles.icon} />}\r\n          onClick={() => setIsEditing(!isEditing)}\r\n        >\r\n          Редактировать\r\n        </Button>\r\n      </div>\r\n\r\n      {isEditing && (\r\n        <div className={styles.body}>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className={`${styles.row} ${styles.isDropdown}`}>\r\n              <div className={styles.col}>\r\n                <Dropdown\r\n                  items={invalidReasonsList.map(({ name }) => name)}\r\n                  onSelect={(value) => setValues({ ...values, invalidReason: value })}\r\n                  value={values.invalidReason}\r\n                  label={'Причина невалидности связи'}\r\n                  placeholder=\"Выберете из списка\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className={`${styles.row} ${styles.isDropdown}`}>\r\n              <div className={styles.col}>\r\n                <Dropdown\r\n                  items={changeReasonsList.map(({ name }) => name)}\r\n                  onSelect={(value) => setValues({ ...values, editReason: value })}\r\n                  value={values.editReason}\r\n                  label={'Причина изменения'}\r\n                  placeholder=\"Выберете из списка\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles.row}>\r\n              <div className={styles.col}>\r\n                <Input\r\n                  inputStyle={styles.input}\r\n                  label=\"Источник информации\"\r\n                  labelPosition=\"top\"\r\n                  placeholder=\"Укажите источник информации\"\r\n                  onChange={({ target: { value } }) => setValues({ ...values, source: value })}\r\n                  value={values.source}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles.row}>\r\n              <div className={styles.col}>\r\n                <Textarea\r\n                  textareaStyle={styles.input}\r\n                  label=\"Комментарий\"\r\n                  labelPosition=\"top\"\r\n                  placeholder=\"Введите комментарий\"\r\n                  onChange={({ target: { value } }) => setValues({ ...values, comment: value })}\r\n                  value={values.comment}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles.files}>\r\n              <FileUploader\r\n                buttonStyle={styles.button}\r\n                fileList={values.files}\r\n                onFilesChange={(files) => setValues({ ...values, files: [...files] })}\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.buttons}>\r\n              <Button\r\n                className={styles.button}\r\n                type=\"submit\"\r\n                disabled={!hasChanges || !values.invalidReason || !values.editReason}\r\n              >\r\n                Сохранить\r\n              </Button>\r\n\r\n              <Button\r\n                className={styles.button}\r\n                mode=\"transparent\"\r\n                disabled={!hasChanges}\r\n                onClick={handleReset}\r\n              >\r\n                Отменить\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Edit;\r\n","import React from 'react';\r\nimport { IHistoryProps } from './History.props';\r\n\r\nimport Accordion from '../Accordion';\r\n\r\nimport styles from './History.module.scss';\r\n\r\nconst History = ({ className, history, ...props }: IHistoryProps) => {\r\n  return (\r\n    <Accordion className={`${className} ${styles.history}`} {...props} name=\"История изменений\">\r\n      {history && (\r\n        <table className={styles.table}>\r\n          <thead>\r\n            <tr className={`${styles.row} ${styles.header}`}>\r\n              <th className={styles.date}>Дата и время</th>\r\n              <th className={styles.name}>Кем изменено</th>\r\n              <th className={styles.text}>Изменение</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {history.map((item, i) => (\r\n              <tr className={`${styles.row}`} key={`history_link_${i}`}>\r\n                <td className={styles.date}>\r\n                  {item.change_date ? new Date(item.change_date).toLocaleString() : '-'}\r\n                </td>\r\n                <td className={styles.name}>{item.user_name}</td>\r\n                <td className={styles.text}>{item.change_text}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </Accordion>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import { useStores } from 'hooks';\r\nimport { observer } from 'mobx-react';\r\nimport React, { useEffect } from 'react';\r\n\r\nimport Button from 'components/Button';\r\nimport TaxpayersLink from 'components/TaxpayersLink';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from '../Modal';\r\nimport Common from './components/Common';\r\nimport Edit from './components/Edit';\r\nimport History from './components/History';\r\n\r\nimport styles from './DetailedLinkCluster.module.scss';\r\n\r\ninterface IDetailedLinkClusterProps {\r\n  onClose: () => void;\r\n  linkId: string;\r\n}\r\n\r\nconst DetailedLinkCluster = observer(({ onClose, linkId }: IDetailedLinkClusterProps) => {\r\n  const {\r\n    commonStore: { appTheme },\r\n    clusterStore: { getDetailedLink, linkData },\r\n    graphStore: { showChangeLinks, showDeleteLink, ableEdit },\r\n  } = useStores();\r\n\r\n  useEffect(() => {\r\n    getDetailedLink(linkId, 0);\r\n  }, [linkId]);\r\n\r\n  const _onSave = () => {\r\n    //graphStore!.editCluster(idNode, idSubtype, this.state.linkDataStore);\r\n  };\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalHeader onClose={onClose}>\r\n        <div className={styles.header}>\r\n          <span>Детализация связи</span>\r\n        </div>\r\n      </ModalHeader>\r\n\r\n      <ModalBody withFooter={true}>\r\n        <div className={styles.container}>\r\n          {linkData && (\r\n            <>\r\n              <div className={styles.title}>{linkData.subtype_name}</div>\r\n\r\n              <div className={styles.link}>\r\n                <TaxpayersLink\r\n                  source={{ inn: linkData.source_inn, name: linkData.source_name }}\r\n                  target={{ inn: linkData.target_inn, name: linkData.target_name }}\r\n                  withArrow={false}\r\n                />\r\n              </div>\r\n\r\n              <div className={styles.body}>\r\n                {showChangeLinks && showDeleteLink && ableEdit && <Edit linkData={linkData} />}\r\n                <Common linkId={linkData.edge_id} />\r\n                <History history={linkData.history} />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </ModalBody>\r\n\r\n      <ModalFooter>\r\n        <div className={styles.bottomBar}>\r\n          <Button mode=\"secondary\" onClick={onClose}>\r\n            Закрыть\r\n          </Button>\r\n        </div>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n});\r\n\r\nexport default DetailedLinkCluster;\r\n","export { default } from './DetailedLinkCluster';\r\n"],"sourceRoot":""}
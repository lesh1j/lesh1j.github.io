{"version":3,"sources":["components/FileUploader/assets/file.svg","components/FileUploader/FileUploader.tsx","components/FileUploader/assets/error.svg","components/Textarea/Textarea.module.scss","components/FileUploader/FileUploader.module.scss","components/Textarea/Textarea.tsx","components/Textarea/index.ts","components/modals/Error/assets/error.svg","components/modals/Error/Error.tsx","components/modals/Error/index.ts","assets/icons/edit.svg","components/FileUploader/index.ts","components/modals/Error/Error.module.scss","components/modals/EditLink/EditForm/EditForm.module.scss","components/modals/EditLink/EditLink.module.scss","components/modals/EditLink/EditForm/EditForm.tsx","components/modals/EditLink/EditLink.tsx","components/modals/EditLink/index.ts"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","fill","SvgFile","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","ref","id","ForwardRef","FileItem","file","onItemRemove","getUploadedDocument","appTheme","disabled","document_id","file_name","className","styles","onClick","file__title","fileIcon","file__delete","name","e","theme","FileUploader","fileList","onFilesChange","buttonStyle","allowTypes","rtf","doc","docx","pdf","xls","xlsx","txt","useStores","commonStore","graphStore","inputRef","useRef","useState","dragActive","setDragActive","errors","setErrors","attachFiles","uploadedfiles","invalidFiles","streams","map","stream","filter","split","pop","push","stopPropagation","filteredFiles","item","onDrag","preventDefault","type","container","accept","onChange","files","multiple","style","display","label","field","active","onDragEnter","onDragLeave","onDragOver","onDrop","dataTransfer","current","click","mode","list","error","error__icon","cx","cy","r","_ref3","stroke","strokeLinecap","_ref4","SvgError","module","exports","Textarea","labelPosition","textareaStyle","wrapper","textarea","Error","observer","isValidFile","text","container_validation","error_icon","PureComponent","SvgEdit","EditForm","inject","state","invalidReason","invalidChange","linkData","reasonInvalid","invalidReasonsList","invalid_reason","reason_id","setState","reasonChange","changeReasonsList","change_reason","invalidReasonsData","invalidChangesData","Dropdown","placeholder","value","items","onSelect","_onInvalidChange","_onReasonChange","Input","info_source","inputStyle","input","_changeInfoSource","description","_changeDescription","action","storeForEdit","prepareData","data","JSON","stringify","EditLink","editLink","a","editLinkStore","s","isEditing","linkDataStore","hasChanges","initialValues","index","setLinkDataStore","err","console","warn","message","infoSource","attach_documents","information","checkChanges","Button","size","editButton","isActive","rightIcon","icon","data_container","containerDiv","fileName","button","runInAction","buttons","cancelChanges"],"mappings":"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","file":"static/js/0.afe44e17.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.00002 0.00300002V0H16.998C17.55 0 18 0.455 18 0.992V19.008C17.9998 19.2712 17.895 19.5235 17.7088 19.7095C17.5226 19.8955 17.2702 20 17.007 20H0.993025C0.861702 19.9991 0.731845 19.9723 0.61087 19.9212C0.489895 19.8701 0.38017 19.7957 0.287961 19.7022C0.195752 19.6087 0.122864 19.4979 0.0734597 19.3762C0.0240555 19.2545 -0.000897804 19.1243 2.4673e-05 18.993V6L6.00002 0.00300002ZM2.83002 6H6.00002V2.83L2.83002 6ZM8.00002 2V7C8.00002 7.26522 7.89467 7.51957 7.70713 7.70711C7.5196 7.89464 7.26524 8 7.00002 8H2.00002V18H16V2H8.00002Z\",\n  fill: \"#006CE8\"\n});\n\nfunction SvgFile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 20,\n    viewBox: \"0 0 18 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.61152433.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, MouseEvent, ChangeEvent, DragEvent, useRef } from 'react';\r\nimport { useStores } from '../../hooks';\r\n\r\nimport { IFileUploaderProps, IFile } from './FileUploader.props';\r\n\r\nimport Button from '../Button';\r\nimport Icon from '../Icon';\r\n\r\nimport { ReactComponent as FileIcon } from './assets/file.svg';\r\nimport { ReactComponent as ErrorIcon } from './assets/error.svg';\r\n\r\nimport styles from './FileUploader.module.scss';\r\n\r\nconst FileItem = ({\r\n  file,\r\n  onItemRemove,\r\n  getUploadedDocument,\r\n  appTheme,\r\n  disabled,\r\n}: {\r\n  file: IFile;\r\n  onItemRemove: (e: MouseEvent, name: string) => void;\r\n  getUploadedDocument: (documentId: string, fileName: string) => void;\r\n  appTheme: string;\r\n  disabled?: boolean;\r\n}) => {\r\n  const { document_id, file_name } = file;\r\n\r\n  return (\r\n    <div\r\n      className={styles.file}\r\n      onClick={() => (document_id ? getUploadedDocument(document_id, file_name) : false)}\r\n    >\r\n      <div className={styles.file__title}>\r\n        <FileIcon className={styles.fileIcon} />\r\n        <span>{file_name}</span>\r\n      </div>\r\n\r\n      {!disabled && (\r\n        <Icon\r\n          className={styles.file__delete}\r\n          name=\"close\"\r\n          onClick={(e: MouseEvent) => onItemRemove(e, file_name)}\r\n          theme={appTheme}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst FileUploader = ({\r\n  className,\r\n  fileList = [],\r\n  onFilesChange,\r\n  disabled,\r\n  buttonStyle,\r\n  ...props\r\n}: IFileUploaderProps) => {\r\n  const commonAccept = `.xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel.doc,\r\n    .docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword.pdf,application/pdf,.txt,.rft`;\r\n\r\n  const allowTypes = {\r\n    rtf: true,\r\n    doc: true,\r\n    docx: true,\r\n    pdf: true,\r\n    xls: true,\r\n    xlsx: true,\r\n    txt: true,\r\n  };\r\n\r\n  const {\r\n    commonStore: { appTheme },\r\n    graphStore: { getUploadedDocument },\r\n  } = useStores();\r\n\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [dragActive, setDragActive] = useState<boolean>(false);\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n\r\n  const attachFiles = (uploadedfiles: File[]) => {\r\n    const invalidFiles: string[] = [];\r\n\r\n    const streams: IFile[] = uploadedfiles\r\n      .map((file: File) => ({\r\n        stream: file,\r\n        file_name: file.name,\r\n      }))\r\n      .filter(({ file_name }) => {\r\n        const fileExt = file_name.split('.').pop() as string;\r\n\r\n        if (fileExt in allowTypes) return true;\r\n\r\n        invalidFiles.push(file_name);\r\n      });\r\n\r\n    onFilesChange([...fileList, ...streams]);\r\n    setErrors([...invalidFiles]);\r\n  };\r\n\r\n  const onItemRemove = (e: MouseEvent, name: string): void => {\r\n    e.stopPropagation();\r\n\r\n    const filteredFiles = fileList.filter((item) => item.file_name !== name);\r\n    onFilesChange(filteredFiles);\r\n  };\r\n\r\n  const onDrag = (e: DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (e.type === 'dragenter' || e.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (e.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const onChangeFiles = (e: ChangeEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n\r\n    const files = e.target.files ? [...e.target.files] : [];\r\n    attachFiles(files);\r\n  };\r\n\r\n  const onDropFiles = (e: DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const files = e.dataTransfer.files ? [...e.dataTransfer.files] : [];\r\n    attachFiles(files);\r\n\r\n    setDragActive(false);\r\n  };\r\n\r\n  const onButtonClick = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n\r\n    inputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.container} ${className}`} {...props}>\r\n      <input\r\n        type=\"file\"\r\n        accept={commonAccept}\r\n        ref={inputRef}\r\n        onChange={onChangeFiles}\r\n        multiple\r\n        style={{ display: 'none' }}\r\n      />\r\n\r\n      {!disabled && (\r\n        <>\r\n          <span className={styles.label}>Добавить файлы</span>\r\n\r\n          <div\r\n            className={`${styles.field} ${dragActive && styles.active}`}\r\n            onDragEnter={onDrag}\r\n            onDragLeave={onDrag}\r\n            onDragOver={onDrag}\r\n            onDrop={onDropFiles}\r\n          >\r\n            <Button className={buttonStyle} onClick={onButtonClick} mode=\"secondary\">\r\n              Выберите файлы\r\n            </Button>\r\n\r\n            <span className={styles.title}>Перетащите сюда файлы для загрузки</span>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {fileList.length > 0 && (\r\n        <div className={styles.list}>\r\n          {fileList.map((file) => (\r\n            <FileItem\r\n              key={'file-list-item-' + file.file_name}\r\n              file={file}\r\n              onItemRemove={onItemRemove}\r\n              getUploadedDocument={getUploadedDocument}\r\n              appTheme={appTheme}\r\n              disabled={disabled}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <div className={styles.errors}>\r\n        {errors.map((error) => (\r\n          <div key={`fileError${error}`} className={styles.error}>\r\n            <ErrorIcon className={`${styles.error__icon}`} />\r\n            Указанный файл {error} имеет неподдерживаемый формат или испорчен. Укажите корректный\r\n            файл в одном из форматов: .rtf, .doc, .docx, .pdf, .xls, .xlsx, .txt.\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUploader;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 7.5,\n  cy: 7.5,\n  r: 7.5,\n  fill: \"#FF6161\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 4L11 11\",\n  stroke: \"white\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 4L4 11\",\n  stroke: \"white\",\n  strokeLinecap: \"round\"\n});\n\nfunction SvgError(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgError);\nexport default __webpack_public_path__ + \"static/media/error.4c15911a.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Textarea_wrapper__3gu4k\",\"top\":\"Textarea_top__1KR2a\",\"label\":\"Textarea_label__CZFNJ\",\"left\":\"Textarea_left__3apPz\",\"textarea\":\"Textarea_textarea__1526L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FileUploader_container__2gvO0\",\"field\":\"FileUploader_field__2bGUs\",\"active\":\"FileUploader_active__2VBpo\",\"title\":\"FileUploader_title__1IGrb\",\"list\":\"FileUploader_list__2-TZY\",\"file\":\"FileUploader_file__afdxV\",\"file__title\":\"FileUploader_file__title__2QN6_\",\"file__con\":\"FileUploader_file__con__2noNC\",\"file__delete\":\"FileUploader_file__delete__3wgAA\",\"error\":\"FileUploader_error__2N8vV\",\"error__icon\":\"FileUploader_error__icon__1_4lB\"};","import React from 'react';\r\nimport { ITextareaProps } from './Textarea.props';\r\nimport styles from './Textarea.module.scss';\r\n\r\nconst Textarea = ({\r\n  className,\r\n  label,\r\n  labelPosition = 'left',\r\n  textareaStyle,\r\n  ...props\r\n}: ITextareaProps) => {\r\n  return (\r\n    <label className={`${styles.wrapper} ${className} ${styles[labelPosition]}`}>\r\n      {label && <span className={`${styles.label}`}>{label}</span>}\r\n      <textarea className={`${styles.textarea} ${textareaStyle}`} {...props} />\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","export { default } from './Textarea';\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 7.5,\n  cy: 7.5,\n  r: 7.5,\n  fill: \"#FF6161\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 4L11 11\",\n  stroke: \"white\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 4L4 11\",\n  stroke: \"white\",\n  strokeLinecap: \"round\"\n});\n\nfunction SvgError(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgError);\nexport default __webpack_public_path__ + \"static/media/error.4c15911a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { PureComponent } from 'react';\r\nimport styles from './Error.module.scss';\r\n\r\nimport { observer } from 'mobx-react';\r\n\r\nimport { ReactComponent as ErrorIcon } from './assets/error.svg';\r\n\r\ntype ErrorProps = {\r\n  [key: string]: any;\r\n  text?: any;\r\n  isValidFile?: boolean;\r\n};\r\n\r\n/**\r\n * Отображение ошибок, связанных с валидацией\r\n */\r\n@observer\r\nclass Error extends PureComponent<ErrorProps> {\r\n  /**\r\n   * Метод отрисовывает элементы на странице\r\n   */\r\n  render() {\r\n    const { isValidFile, text } = this.props;\r\n\r\n    if (!isValidFile) return null;\r\n\r\n    return (\r\n      <div className={`${styles.container_validation}`}>\r\n        <ErrorIcon className={`${styles.error_icon}`} />\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Error;\r\n","export { default } from './Error';\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.728 9.68608L14.314 8.27208L5 17.5861V19.0001H6.414L15.728 9.68608ZM17.142 8.27208L18.556 6.85808L17.142 5.44408L15.728 6.85808L17.142 8.27208ZM7.242 21.0001H3V16.7571L16.435 3.32208C16.6225 3.13461 16.8768 3.0293 17.142 3.0293C17.4072 3.0293 17.6615 3.13461 17.849 3.32208L20.678 6.15108C20.8655 6.33861 20.9708 6.59292 20.9708 6.85808C20.9708 7.12325 20.8655 7.37756 20.678 7.56508L7.243 21.0001H7.242Z\"\n});\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.f77cf35e.svg\";\nexport { ForwardRef as ReactComponent };","export { default } from './FileUploader';\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container_validation\":\"Error_container_validation__1kepy\",\"error_icon\":\"Error_error_icon__3e3FK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"EditForm_container__2Csxs\",\"input\":\"EditForm_input__2jZIf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editButton\":\"EditLink_editButton__2XNbM\",\"data_container\":\"EditLink_data_container__3QzTM\",\"title\":\"EditLink_title__2uOsu\",\"subtypeName\":\"EditLink_subtypeName__1FiG9\",\"files\":\"EditLink_files__1hUQz\",\"buttons\":\"EditLink_buttons__2uoCu\",\"button\":\"EditLink_button__Zn-4M\",\"input\":\"EditLink_input__3IIZh\"};","import Input from 'components/Input';\r\nimport Textarea from 'components/Textarea';\r\nimport { action } from 'mobx';\r\nimport { inject, observer } from 'mobx-react';\r\nimport React, { PureComponent } from 'react';\r\nimport { CommonStoreType } from '../../../../stores/common/commonStore';\r\nimport { GraphStoreType } from '../../../../stores/graph/graphStore';\r\nimport Dropdown from '../../../Dropdown';\r\nimport styles from './EditForm.module.scss';\r\n\r\ntype EditFormProps = {\r\n  commonStore?: CommonStoreType;\r\n  graphStore?: GraphStoreType;\r\n  disabled?: boolean;\r\n  linkData: any;\r\n  editSourceError?: boolean;\r\n  invalidReasonsData?: any;\r\n  invalidChangesData?: any;\r\n  storeForEdit?: any;\r\n  onChange?: () => void;\r\n};\r\n\r\ntype EditFormState = {\r\n  invalidReason: string;\r\n  invalidChange: string;\r\n};\r\n\r\n/**\r\n * Компонент АСК НДС-2 связи\r\n */\r\n@inject('commonStore', 'graphStore')\r\n@observer\r\nclass EditForm extends PureComponent<EditFormProps, EditFormState> {\r\n  constructor(props: EditFormProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      invalidReason: '',\r\n      invalidChange: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { linkData, commonStore } = this.props;\r\n\r\n    // Получение причин невалидности\r\n    const reasonInvalid = commonStore?.invalidReasonsList;\r\n    for (let i = 0; i < reasonInvalid!.length; i++) {\r\n      if (linkData.invalid_reason === reasonInvalid![i].reason_id) {\r\n        this.setState({ invalidReason: reasonInvalid![i].name });\r\n      }\r\n    }\r\n\r\n    // Получение причин изменения\r\n    const reasonChange = commonStore?.changeReasonsList;\r\n    for (let i = 0; i < reasonChange!.length; i++) {\r\n      if (linkData.change_reason === reasonChange![i].reason_id) {\r\n        this.setState({ invalidChange: reasonChange![i].name });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Функция по изменению \"Причина невалидности связи\"\r\n   * @param name - наименование причины\r\n   */\r\n  @action _onInvalidChange = (name: string): void => {\r\n    const { storeForEdit, commonStore, onChange } = this.props;\r\n    this.setState({ invalidReason: name });\r\n    const reasonInvalid = commonStore?.invalidReasonsList;\r\n    for (let i = 0; i < reasonInvalid!.length; i++) {\r\n      if (name === reasonInvalid![i].name) {\r\n        storeForEdit.invalid_reason = reasonInvalid![i].reason_id;\r\n      }\r\n    }\r\n    onChange?.();\r\n  };\r\n\r\n  /**\r\n   * Функция по изменению \"Причина изменения\"\r\n   * @param name\r\n   * @private\r\n   */\r\n  @action _onReasonChange = (name: string): void => {\r\n    const { storeForEdit, commonStore, onChange } = this.props;\r\n    this.setState({ invalidChange: name });\r\n    const reasonChange = commonStore?.changeReasonsList;\r\n    for (let i = 0; i < reasonChange!.length; i++) {\r\n      if (name === reasonChange![i].name) {\r\n        storeForEdit.change_reason = reasonChange![i].reason_id;\r\n      }\r\n    }\r\n    onChange?.();\r\n  };\r\n\r\n  /**\r\n   * Изменить поле \"Источник информации\"\r\n   * @param e - информация от input\r\n   * @private\r\n   */\r\n  @action _changeInfoSource = (e: any): void => {\r\n    const { storeForEdit, onChange } = this.props;\r\n    storeForEdit.info_source = e.target.value ? e.target.value : null;\r\n    onChange?.();\r\n  };\r\n\r\n  /**\r\n   * Изменить поле \"Комментарий\"\r\n   * @param e - информация от input\r\n   * @private\r\n   */\r\n  @action _changeDescription = (e: any): void => {\r\n    const { storeForEdit, onChange } = this.props;\r\n    storeForEdit.description = e.target.value ? e.target.value : null;\r\n    onChange?.();\r\n  };\r\n\r\n  /**\r\n   * Метод отрисовывает элементы на странице\r\n   */\r\n  render() {\r\n    const {\r\n      props: { linkData, invalidReasonsData, invalidChangesData, commonStore },\r\n      state: { invalidChange, invalidReason },\r\n    } = this;\r\n\r\n    return (\r\n      <div className={styles.container}>\r\n        <Dropdown\r\n          label=\"Причина невалидности связи\"\r\n          placeholder=\"Выберете из списка\"\r\n          value={invalidReason}\r\n          items={invalidReasonsData}\r\n          onSelect={this._onInvalidChange}\r\n          theme={commonStore?.appTheme}\r\n        />\r\n        <Dropdown\r\n          label=\"Причина изменения\"\r\n          placeholder=\"Выберете из списка\"\r\n          value={invalidChange}\r\n          items={invalidChangesData}\r\n          onSelect={this._onReasonChange}\r\n          theme={commonStore?.appTheme}\r\n        />\r\n        <Input\r\n          label=\"Источник информации\"\r\n          placeholder=\"Укажите источник информации\"\r\n          labelPosition=\"top\"\r\n          value={linkData.info_source}\r\n          inputStyle={styles.input}\r\n          onChange={(e) => {\r\n            this._changeInfoSource(e);\r\n          }}\r\n        />\r\n        <Textarea\r\n          label=\"Комментарий\"\r\n          placeholder=\"Введите комментарий\"\r\n          labelPosition=\"top\"\r\n          value={linkData.description}\r\n          textareaStyle={styles.input}\r\n          onChange={(e) => {\r\n            this._changeDescription(e);\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditForm;\r\n","import { ReactComponent as EditIcon } from 'assets/icons/edit.svg';\r\nimport Button from 'components/Button';\r\nimport FileUploader from 'components/FileUploader';\r\nimport { action, runInAction } from 'mobx';\r\nimport { inject, observer } from 'mobx-react';\r\nimport React, { PureComponent } from 'react';\r\nimport CommonStore from 'stores/common/commonStore';\r\nimport { GraphStoreType } from '../../../stores/graph/graphStore';\r\nimport EditLinkStore from '../../../stores/modalData/editLinkStore';\r\nimport Error from '../Error';\r\nimport EditForm from './EditForm';\r\nimport styles from './EditLink.module.scss';\r\n\r\ntype EditLinkDetailProps = {\r\n  commonStore?: CommonStore;\r\n  graphStore?: GraphStoreType;\r\n  editLinkStore?: EditLinkStore;\r\n  [key: string]: any;\r\n};\r\n\r\ntype EditLinkDetailState = {\r\n  isEditing: boolean;\r\n  hasChanges: boolean;\r\n  initialValues: any;\r\n  invalidReasonsData: any;\r\n  invalidChangesData: any;\r\n};\r\n\r\nconst prepareData = (data: any) => {\r\n  return JSON.stringify({\r\n    ...data,\r\n    files: data.files.map((e: any) => e.file_name),\r\n  });\r\n};\r\n\r\n/**\r\n * Компонент для детализации по редактированию связи\r\n */\r\n@inject('graphStore', 'commonStore', 'editLinkStore')\r\n@observer\r\nclass EditLink extends PureComponent<EditLinkDetailProps, EditLinkDetailState> {\r\n  constructor(props: EditLinkDetailProps) {\r\n    super(props);\r\n    this.state = {\r\n      isEditing: false,\r\n      hasChanges: false,\r\n      initialValues: {},\r\n      invalidReasonsData: [],\r\n      invalidChangesData: [],\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { commonStore, editLinkStore, linkData, index } = this.props;\r\n\r\n    try {\r\n      editLinkStore?.setLinkDataStore(linkData);\r\n    } catch (err) {\r\n      console.warn('Error on fetch link details: ', err.message);\r\n    }\r\n\r\n    // Получение причин невалидности\r\n    const reasonInvalid = commonStore?.invalidReasonsList;\r\n    this.setState({ invalidReasonsData: reasonInvalid?.map(({ name }) => name) });\r\n\r\n    // Получение причин изменения\r\n    const reasonChange = commonStore?.changeReasonsList;\r\n    this.setState({ invalidChangesData: reasonChange?.map(({ name }) => name) });\r\n\r\n    const storeForEdit = editLinkStore?.linkDataStore[index];\r\n\r\n    this.setState({\r\n      hasChanges: false,\r\n      initialValues: {\r\n        invalidReason: storeForEdit.invalid_reason,\r\n        invalidChange: storeForEdit.change_reason,\r\n        infoSource: storeForEdit.info_source,\r\n        description: storeForEdit.description,\r\n        files: storeForEdit.attach_documents || [],\r\n      },\r\n    });\r\n  }\r\n\r\n  // Функция по редактированию связи\r\n  editLink = async () => {\r\n    const { graphStore, editLinkStore } = this.props;\r\n    this.setState((s) => ({\r\n      isEditing: !s.isEditing,\r\n    }));\r\n    await graphStore!.editLink(editLinkStore?.linkDataStore, false);\r\n  };\r\n\r\n  @action _addLinkData = (linkData: any): void => {\r\n    const { editLinkStore } = this.props;\r\n    editLinkStore?.setLinkDataStore(linkData);\r\n  };\r\n\r\n  @action cancelChanges = () => {\r\n    const { editLinkStore, index } = this.props;\r\n    const storeForEdit = editLinkStore?.linkDataStore[index];\r\n\r\n    storeForEdit.invalid_reason = this.state.initialValues.invalidReason;\r\n    storeForEdit.change_reason = this.state.initialValues.invalidChange;\r\n    storeForEdit.info_source = this.state.initialValues.infoSource;\r\n    storeForEdit.description = this.state.initialValues.description;\r\n    storeForEdit.attach_documents = this.state.initialValues.files;\r\n\r\n    this.setState({ hasChanges: false });\r\n  };\r\n\r\n  /**\r\n   * Метод отрисовывает элементы на странице\r\n   */\r\n  render() {\r\n    const { linkData, index, editLinkStore } = this.props;\r\n    const { isEditing, invalidReasonsData, invalidChangesData } = this.state;\r\n\r\n    if (!linkData || !editLinkStore || !editLinkStore.linkDataStore.length) {\r\n      return null;\r\n    }\r\n\r\n    const information = linkData[index];\r\n    const storeForEdit = editLinkStore?.linkDataStore[index];\r\n\r\n    const checkChanges = () => {\r\n      this.setState({\r\n        hasChanges:\r\n          prepareData({\r\n            invalidReason: storeForEdit.invalid_reason,\r\n            invalidChange: storeForEdit.change_reason,\r\n            infoSource: storeForEdit.info_source,\r\n            description: storeForEdit.description,\r\n            files: storeForEdit.attach_documents || [],\r\n          }) !== prepareData(this.state.initialValues),\r\n      });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          mode=\"outline\"\r\n          size=\"small\"\r\n          className={styles.editButton}\r\n          isActive={isEditing}\r\n          rightIcon={<EditIcon className={styles.icon} />}\r\n          onClick={() => {\r\n            this.setState((s) => ({\r\n              isEditing: !s.isEditing,\r\n            }));\r\n          }}\r\n        >\r\n          Редактировать\r\n        </Button>\r\n        {isEditing && (\r\n          <div className={styles.data_container}>\r\n            <h3>Редактировать связь</h3>\r\n            <div className={styles.containerDiv}>\r\n              <EditForm\r\n                linkData={information}\r\n                invalidReasonsData={invalidReasonsData}\r\n                invalidChangesData={invalidChangesData}\r\n                storeForEdit={storeForEdit}\r\n                onChange={checkChanges}\r\n              />\r\n              {storeForEdit && (\r\n                <Error\r\n                  isValidFile={storeForEdit.isValidFile}\r\n                  text={\r\n                    'Указанный файл ' +\r\n                    storeForEdit.fileName +\r\n                    ' имеет неподдерживаемый формат или испорчен. Укажите корректный файл в одном из форматов: .rtf, .doc, .docx, .pdf, .xls, .xlsx, .txt.'\r\n                  }\r\n                />\r\n              )}\r\n              <div className={styles.files}>\r\n                <FileUploader\r\n                  buttonStyle={styles.button}\r\n                  fileList={storeForEdit.attach_documents}\r\n                  onFilesChange={(files) => {\r\n                    runInAction(() => {\r\n                      storeForEdit.attach_documents = [...files];\r\n                      checkChanges();\r\n                    });\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={styles.buttons}>\r\n              <Button\r\n                className={styles.button}\r\n                onClick={this.editLink}\r\n                disabled={\r\n                  !this.state.hasChanges ||\r\n                  !storeForEdit.invalid_reason ||\r\n                  !storeForEdit.change_reason\r\n                }\r\n              >\r\n                Сохранить\r\n              </Button>\r\n              <Button\r\n                className={styles.button}\r\n                mode=\"transparent\"\r\n                onClick={() => {\r\n                  this.setState((s) => ({\r\n                    isEditing: !s.isEditing,\r\n                  }));\r\n                  this.cancelChanges();\r\n                }}\r\n              >\r\n                Отменить\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditLink;\r\n","export { default } from './EditLink';\r\n"],"sourceRoot":""}
(this.webpackJsonpvsa=this.webpackJsonpvsa||[]).push([[9],{687:function(e,a,t){e.exports={taxpayers:"TaxpayersLink_taxpayers__DuuDl",withLabel:"TaxpayersLink_withLabel__2-zth",line:"TaxpayersLink_line__1hSUg",line__top:"TaxpayersLink_line__top__27797",line__left:"TaxpayersLink_line__left__mZfVL",line__bottom:"TaxpayersLink_line__bottom__30oVu",triangle:"TaxpayersLink_triangle__yzfvv",taxpayer:"TaxpayersLink_taxpayer__eeHHu",label:"TaxpayersLink_label__2NlW-"}},716:function(e,a,t){"use strict";var n=t(20),c=t(0),l=t.n(c),r=t(687),o=t.n(r),i=function(e){var a,t,c=e.className,r=e.target,i=e.source,s=e.withArrow,m=void 0===s||s,_=Object(n.a)(e,["className","target","source","withArrow"]);return l.a.createElement("div",Object.assign({className:"".concat(c," ").concat(o.a.taxpayers," ").concat(i.label&&o.a.withLabel)},_),l.a.createElement("div",{className:"".concat(o.a.taxpayer," ").concat(o.a.seller)},l.a.createElement("div",{className:"".concat(o.a.line," ").concat(o.a.line__top)}),l.a.createElement("div",{className:"".concat(o.a.line," ").concat(o.a.line__left)}),l.a.createElement("div",{className:"".concat(o.a.line," ").concat(o.a.line__bottom)},m&&l.a.createElement("div",{className:o.a.triangle})),i.label&&l.a.createElement("span",{className:o.a.label},i.label),l.a.createElement("span",{className:o.a.inn},i.inn),l.a.createElement("span",{className:o.a.name},null!==(a=i.name)&&void 0!==a?a:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043e")),l.a.createElement("div",{className:"".concat(o.a.taxpayer," ").concat(o.a.buyer)},r.label&&l.a.createElement("span",{className:o.a.label},r.label),l.a.createElement("span",{className:o.a.inn},r.inn),l.a.createElement("span",{className:o.a.name},null!==(t=r.name)&&void 0!==t?t:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043e")))};t.d(a,"a",(function(){return i}))},783:function(e,a,t){e.exports={container:"ModalFilter_container__3N7CK",modal:"ModalFilter_modal__37cty",title:"ModalFilter_title__32wLP",text:"ModalFilter_text__248_X"}},784:function(e,a,t){e.exports={wrapper:"Taxpayer_wrapper__10mH_",main:"Taxpayer_main__1-Si9",additional:"Taxpayer_additional__1rgCj",fadeIn:"Taxpayer_fadeIn__o7jEu",additionalData:"Taxpayer_additionalData__30mvC",additionalDataContainer:"Taxpayer_additionalDataContainer__2utVw",dataName:"Taxpayer_dataName__UmyxS",dataValue:"Taxpayer_dataValue__AZXWQ",additionalButtonContainer:"Taxpayer_additionalButtonContainer__2JkM2",additionalButtonLabel:"Taxpayer_additionalButtonLabel__Bbs3s",additionalInfoIcon:"Taxpayer_additionalInfoIcon__1wwGU"}},785:function(e,a,t){e.exports={container:"SearchCluster_container__3d_Rg",label:"SearchCluster_label__SLFh6",search:"SearchCluster_search__TDp8z",listInner:"SearchCluster_listInner__8NTE3",loader:"SearchCluster_loader__2T51A",list:"SearchCluster_list__zl4RQ",error:"SearchCluster_error__2d-ht",errorText:"SearchCluster_errorText__2cXj_",item:"SearchCluster_item__37-nn"}},786:function(e,a,t){e.exports={plus:"Plus_plus__HAwAA",line:"Plus_line__3ZY2B",line_2:"Plus_line_2__2-ZpG",isOpen:"Plus_isOpen__1Yqwk"}},787:function(e,a,t){e.exports={accordion:"Accordion_accordion__3Xtne",level_2:"Accordion_level_2__3ZSXS",header:"Accordion_header__6h-0K",isOpen:"Accordion_isOpen__3Z1Dd",level_1:"Accordion_level_1__2Z8AK",level_3:"Accordion_level_3__3RW8M",arrow:"Accordion_arrow__UP7LL",name:"Accordion_name__16S7Y",openAll:"Accordion_openAll__xAvfR",links:"Accordion_links__2aMop",body:"Accordion_body__YA_7V"}},788:function(e,a,t){e.exports={link:"Link_link__1pE6S",body:"Link_body__2IJe9",common:"Link_common__2CYze",common__link:"Link_common__link__3MZ7p",common__icon:"Link_common__icon__WnhLZ",details:"Link_details__3VbgY",details__close:"Link_details__close__21v2-",details__label:"Link_details__label__Xgnws",details__all:"Link_details__all__1w0XN",icon:"Link_icon__lRtsK"}},789:function(e,a,t){e.exports={links:"CommonItem_links__K0X6R"}},790:function(e,a,t){e.exports={subtype:"Subtype_subtype__2qXjX",links:"Subtype_links__DnI_u"}},791:function(e,a,t){e.exports={type:"Type_type__1mYhP"}},792:function(e,a,t){e.exports={container:"DetailedCluster_container__326zz",search:"DetailedCluster_search__2nKv4",actions__line:"DetailedCluster_actions__line__34-Gw",export:"DetailedCluster_export__2EwaG",loader:"DetailedCluster_loader__3Krnr",checkbox:"DetailedCluster_checkbox__v3Gci",noResults:"DetailedCluster_noResults__31wmg",types:"DetailedCluster_types__2QiPt",bottomBar:"DetailedCluster_bottomBar__1wrQU"}},984:function(e,a,t){"use strict";t.r(a);var n,c,l,r,o=t(4),i=t.n(o),s=t(7),m=t(35),_=t(9),u=t(0),d=t.n(u),p=t(44),C=t(93),b=t(91),v=t(8),h=t(10),f=t(15),y=t(14),k=t(783),E=t.n(k),O=(Object(_.c)("graphStore")(n=Object(_.d)(n=function(e){Object(f.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).innerRef=void 0,n.handleClickOutside=function(e){var a=n.props.onClose;n.innerRef.current&&!n.innerRef.current.contains(e.target)&&a()},n.innerRef=Object(u.createRef)(),n}return Object(h.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside)}},{key:"render",value:function(){return d.a.createElement("div",{className:"".concat(E.a.container),ref:this.innerRef},d.a.createElement("div",{className:E.a.modal},d.a.createElement("span",{className:E.a.title},"\u0424\u0438\u043b\u044c\u0442\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d."),d.a.createElement("span",{className:E.a.text},"\u041a\u043b\u0430\u0441\u0442\u0435\u0440 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f"),d.a.createElement("span",{className:E.a.text},"\u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0430.")))}}]),t}(u.PureComponent))||n),t(41)),N=t(24),x=t(784),w=t.n(x),g=Object(_.d)((r=l=function(e){Object(f.a)(t,e);var a=Object(y.a)(t);function t(){var e;Object(v.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=a.call.apply(a,[this].concat(c)))._onClickNode=function(){var a=e.props;(0,a.onSelect)(a.taxpayer.inn)},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.props,a=e.taxpayer,t=e.wrapperStyle,n=e.selectedNP;return d.a.createElement("div",{className:"".concat(w.a.wrapper," ").concat(t),onClick:this._onClickNode,title:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"},d.a.createElement("div",{className:w.a.checkbox},d.a.createElement(C.a,{checked:n.some((function(e){return e===a.inn})),name:a.inn,onChange:this._onClickNode})),d.a.createElement("span",{className:w.a.inn},a.inn),d.a.createElement("span",{className:w.a.name},a.name))}}]),t}(u.PureComponent),l.defaultProps={wrapperStyle:""},c=r))||c,j=t(84),L=t(785),I=t.n(L),S=Object(_.d)((function(e){var a=e.origId,t=e.graphId,n=Object(m.b)(),c=n.commonStore,l=n.clusterStore,r=l.changeSelectedTaxpayers,o=l.selectedTaxpayers,_=l.clusterTaxpayers,p=l.getClusterData,C=l.clearSelectedTaxpayers,b=Object(u.useState)(""),v=Object(N.a)(b,2),h=v[0],f=v[1],y=Object(u.useState)(!1),k=Object(N.a)(y,2),E=k[0],x=k[1],w=Object(u.useState)(_),L=Object(N.a)(w,2),S=L[0],T=L[1];Object(u.useEffect)((function(){T(Object(O.a)(_))}),[_]);var A=Object(u.useRef)(null),M=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(a),0!==a.length){e.next=5;break}return x(!1),T(_),e.abrupt("return");case 5:x(!0),t=a.toLowerCase(),T(_.filter((function(e){var a=e.inn,n=e.name;return(null===a||void 0===a?void 0:a.toLowerCase().includes(t))||(null===n||void 0===n?void 0:n.toLowerCase().includes(t))})));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(m.a)(A,(function(){return x(!1)})),d.a.createElement("div",{className:I.a.container},d.a.createElement("div",{className:I.a.label},"\u041f\u043e\u0438\u0441\u043a \u0441\u0440\u0435\u0434\u0438 \u0418\u041d\u041d \u0438\u043b\u0438 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430\u043b\u043e\u0433\u043e\u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435"),d.a.createElement("div",{ref:A},d.a.createElement(j.a,{wrapperStyle:I.a.search,value:h,onChange:M,onSearch:function(){p(a,t,!0)},autoSearchTimeout:700,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0418\u041d\u041d \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",autoFocus:!0,withReset:!0,onReset:function(){f(""),C(),p(a,t)},withButton:!0,theme:null===c||void 0===c?void 0:c.appTheme,withTags:!0,selectedList:o,onCloseTag:function(e){return r(e)},withArrow:!0,onOpenList:function(){return x(!E)},isOpenArrow:E,isLarge:!0}),E&&d.a.createElement("div",{className:I.a.listInner},S.map((function(e){return d.a.createElement(g,{key:"nodes-list-item"+e.inn,onSelect:r,taxpayer:e,theme:null===c||void 0===c?void 0:c.appTheme,selectedNP:o})})))))})),T=t(20),A=t(786),M=t.n(A),V=function(e){var a=e.className,t=e.isOpen,n=void 0!==t&&t,c=Object(T.a)(e,["className","isOpen"]);return d.a.createElement("div",Object.assign({className:"".concat(M.a.plus," ").concat(a)},c),d.a.createElement("div",{className:"".concat(M.a.line," ").concat(M.a.line_1)}),d.a.createElement("div",{className:"".concat(M.a.line," ").concat(M.a.line_2," ").concat(n&&M.a.isOpen)}))},Z=t(85);function D(){return(D=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function P(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}var R=u.createElement("path",{d:"M13.06 8.10999L14.475 9.52499C15.1251 10.175 15.6408 10.9467 15.9926 11.796C16.3444 12.6454 16.5255 13.5557 16.5255 14.475C16.5255 15.3943 16.3444 16.3046 15.9926 17.1539C15.6408 18.0033 15.1251 18.775 14.475 19.425L14.121 19.778C12.8082 21.0908 11.0276 21.8283 9.17101 21.8283C7.3144 21.8283 5.53383 21.0908 4.22101 19.778C2.90819 18.4652 2.17065 16.6846 2.17065 14.828C2.17065 12.9714 2.90819 11.1908 4.22101 9.87799L5.63601 11.293C5.16838 11.7565 4.79692 12.3079 4.54294 12.9154C4.28896 13.5229 4.15748 14.1746 4.15604 14.833C4.1546 15.4915 4.28323 16.1437 4.53454 16.7523C4.78585 17.3609 5.1549 17.9139 5.62049 18.3795C6.08609 18.8451 6.63906 19.2141 7.24767 19.4655C7.85628 19.7168 8.50853 19.8454 9.16698 19.844C9.82543 19.8425 10.4771 19.711 11.0846 19.4571C11.6921 19.2031 12.2435 18.8316 12.707 18.364L13.061 18.01C13.9984 17.0724 14.5249 15.8008 14.5249 14.475C14.5249 13.1492 13.9984 11.8776 13.061 10.94L11.646 9.52499L13.061 8.11099L13.06 8.10999ZM19.778 14.121L18.364 12.707C18.8316 12.2434 19.2031 11.6921 19.4571 11.0846C19.7111 10.4771 19.8425 9.8254 19.844 9.16695C19.8454 8.5085 19.7168 7.85625 19.4655 7.24765C19.2142 6.63904 18.8451 6.08607 18.3795 5.62047C17.9139 5.15487 17.361 4.78583 16.7524 4.53451C16.1437 4.2832 15.4915 4.15457 14.833 4.15602C14.1746 4.15746 13.5229 4.28894 12.9154 4.54292C12.3079 4.79689 11.7566 5.16836 11.293 5.63599L10.939 5.98999C10.0017 6.92763 9.47508 8.19917 9.47508 9.52499C9.47508 10.8508 10.0017 12.1223 10.939 13.06L12.354 14.475L10.939 15.889L9.52501 14.475C8.87493 13.825 8.35925 13.0533 8.00742 12.2039C7.65559 11.3546 7.47451 10.4443 7.47451 9.52499C7.47451 8.60567 7.65559 7.69536 8.00742 6.84604C8.35925 5.99671 8.87493 5.22501 9.52501 4.57499L9.87901 4.22199C11.1918 2.90917 12.9724 2.17163 14.829 2.17163C16.6856 2.17163 18.4662 2.90917 19.779 4.22199C21.0918 5.53481 21.8294 7.31538 21.8294 9.17199C21.8294 11.0286 21.0918 12.8092 19.779 14.122L19.778 14.121Z"});function H(e,a){var t=e.title,n=e.titleId,c=P(e,["title","titleId"]);return u.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:a,"aria-labelledby":n},c),t?u.createElement("title",{id:n},t):null,R)}var B=u.forwardRef(H),X=(t.p,t(787)),F=t.n(X),z=function(e){var a=e.className,t=e.children,n=e.level,c=e.name,l=e.links,r=e.allIsOpen,o=e.setAllIsOpen,i=e.checked,s=e.onCheck,m=Object(T.a)(e,["className","children","level","name","links","allIsOpen","setAllIsOpen","checked","onCheck"]),_=Object(u.useState)(!!r),p=Object(N.a)(_,2),b=p[0],v=p[1];return Object(u.useEffect)((function(){1!==n&&v(!!r)}),[r]),d.a.createElement("div",Object.assign({className:"".concat(a," ").concat(F.a.accordion," ").concat(F.a["level_"+n])},m),d.a.createElement("div",{className:"".concat(F.a.header," ").concat(F.a["level_"+n]," ").concat(b&&F.a.isOpen)},1===n&&d.a.createElement("div",{className:"".concat(F.a.arrow," ").concat(b&&F.a.isOpen),onClick:function(){return v(!b)}},d.a.createElement(Z.a,null)),d.a.createElement("div",{className:F.a.checkbox},d.a.createElement(C.a,{className:F.a.checkbox,onChange:s,checked:i})),d.a.createElement("div",{className:F.a.plus,onClick:function(){return v(!b)}},d.a.createElement(V,{isOpen:b})),d.a.createElement("div",{className:"".concat(F.a.name," ").concat(F.a["level_"+n]),onClick:function(){return v(!b)}},c),1===n&&b&&o&&d.a.createElement("div",{className:F.a.openAll,onClick:function(){return o(!r)}},d.a.createElement(V,{isOpen:r})," \u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0438"),d.a.createElement("div",{className:F.a.links},d.a.createElement(B,null),d.a.createElement("span",null,l))),b&&d.a.createElement("div",{className:"".concat(F.a.body," ").concat(F.a["level_"+n])},t))},K=t(716),Y=t(149);function G(){return(G=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function U(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}var W=u.createElement("path",{d:"M12 11C13.3261 11 14.5979 11.5268 15.5355 12.4645C16.4732 13.4021 17 14.6739 17 16V22H15V16C15 15.2348 14.7077 14.4985 14.1827 13.9417C13.6578 13.385 12.9399 13.0499 12.176 13.005L12 13C11.2348 13 10.4985 13.2923 9.94174 13.8173C9.38499 14.3422 9.04989 15.0601 9.005 15.824L9 16V22H7V16C7 14.6739 7.52678 13.4021 8.46447 12.4645C9.40215 11.5268 10.6739 11 12 11ZM5.5 14C5.779 14 6.05 14.033 6.31 14.094C6.13902 14.603 6.03777 15.1328 6.009 15.669L6 16V16.086C5.88505 16.0449 5.76549 16.018 5.644 16.006L5.5 16C5.12712 16 4.76761 16.1389 4.49158 16.3896C4.21555 16.6403 4.0428 16.9848 4.007 17.356L4 17.5V22H2V17.5C2 16.5717 2.36875 15.6815 3.02513 15.0251C3.6815 14.3687 4.57174 14 5.5 14ZM18.5 14C19.4283 14 20.3185 14.3687 20.9749 15.0251C21.6313 15.6815 22 16.5717 22 17.5V22H20V17.5C20 17.1271 19.8611 16.7676 19.6104 16.4916C19.3597 16.2156 19.0152 16.0428 18.644 16.007L18.5 16C18.325 16 18.157 16.03 18 16.085V16C18 15.334 17.892 14.694 17.691 14.096C17.95 14.033 18.221 14 18.5 14ZM5.5 8C6.16304 8 6.79893 8.26339 7.26777 8.73223C7.73661 9.20107 8 9.83696 8 10.5C8 11.163 7.73661 11.7989 7.26777 12.2678C6.79893 12.7366 6.16304 13 5.5 13C4.83696 13 4.20107 12.7366 3.73223 12.2678C3.26339 11.7989 3 11.163 3 10.5C3 9.83696 3.26339 9.20107 3.73223 8.73223C4.20107 8.26339 4.83696 8 5.5 8ZM18.5 8C19.163 8 19.7989 8.26339 20.2678 8.73223C20.7366 9.20107 21 9.83696 21 10.5C21 11.163 20.7366 11.7989 20.2678 12.2678C19.7989 12.7366 19.163 13 18.5 13C17.837 13 17.2011 12.7366 16.7322 12.2678C16.2634 11.7989 16 11.163 16 10.5C16 9.83696 16.2634 9.20107 16.7322 8.73223C17.2011 8.26339 17.837 8 18.5 8ZM5.5 10C5.36739 10 5.24021 10.0527 5.14645 10.1464C5.05268 10.2402 5 10.3674 5 10.5C5 10.6326 5.05268 10.7598 5.14645 10.8536C5.24021 10.9473 5.36739 11 5.5 11C5.63261 11 5.75979 10.9473 5.85355 10.8536C5.94732 10.7598 6 10.6326 6 10.5C6 10.3674 5.94732 10.2402 5.85355 10.1464C5.75979 10.0527 5.63261 10 5.5 10ZM18.5 10C18.3674 10 18.2402 10.0527 18.1464 10.1464C18.0527 10.2402 18 10.3674 18 10.5C18 10.6326 18.0527 10.7598 18.1464 10.8536C18.2402 10.9473 18.3674 11 18.5 11C18.6326 11 18.7598 10.9473 18.8536 10.8536C18.9473 10.7598 19 10.6326 19 10.5C19 10.3674 18.9473 10.2402 18.8536 10.1464C18.7598 10.0527 18.6326 10 18.5 10ZM12 2C13.0609 2 14.0783 2.42143 14.8284 3.17157C15.5786 3.92172 16 4.93913 16 6C16 7.06087 15.5786 8.07828 14.8284 8.82843C14.0783 9.57857 13.0609 10 12 10C10.9391 10 9.92172 9.57857 9.17157 8.82843C8.42143 8.07828 8 7.06087 8 6C8 4.93913 8.42143 3.92172 9.17157 3.17157C9.92172 2.42143 10.9391 2 12 2ZM12 4C11.4696 4 10.9609 4.21071 10.5858 4.58579C10.2107 4.96086 10 5.46957 10 6C10 6.53043 10.2107 7.03914 10.5858 7.41421C10.9609 7.78929 11.4696 8 12 8C12.5304 8 13.0391 7.78929 13.4142 7.41421C13.7893 7.03914 14 6.53043 14 6C14 5.46957 13.7893 4.96086 13.4142 4.58579C13.0391 4.21071 12.5304 4 12 4Z"});function J(e,a){var t=e.title,n=e.titleId,c=U(e,["title","titleId"]);return u.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:a,"aria-labelledby":n},c),t?u.createElement("title",{id:n},t):null,W)}var Q=u.forwardRef(J),q=(t.p,t(19)),$=t(36),ee=t(788),ae=t.n(ee),te=Object(_.d)((function(e){var a,t=e.className,n=e.link,c=e.withCheckbox,l=e.typeId,r=e.subtypeId,o=Object(T.a)(e,["className","link","withCheckbox","typeId","subtypeId"]),i=Object(m.b)(),s=i.modalStore.openModal,_=i.clusterStore.checkLink,p=function(){s(q.k,{linkId:n.link_id})},b=Object(u.useState)(!1),v=Object(N.a)(b,2),h=v[0],f=v[1],y=null===(a=n.common_items)||void 0===a?void 0:a.slice(0,5);return d.a.createElement("div",Object.assign({className:"".concat(t," ").concat(ae.a.link)},o),c&&d.a.createElement("div",{className:ae.a.checkbox},d.a.createElement(C.a,{className:ae.a.checkbox,onChange:function(){return _(l,r,n.link_id)},checked:n.checked})),d.a.createElement("div",{className:ae.a.body},y&&n.common_count&&d.a.createElement("div",{className:ae.a.common},d.a.createElement("span",{className:ae.a.common__link,onClick:function(){return f(!h)}},d.a.createElement("span",{className:ae.a.common__icon},d.a.createElement(Q,null)),d.a.createElement("span",{className:ae.a.common__label},"\u041e\u0431\u0449\u0438\u0445: ",n.common_count)),h&&d.a.createElement("div",{className:ae.a.details},d.a.createElement("button",{className:ae.a.details__close,onClick:function(){return f(!1)}},d.a.createElement(Y.a,null)),d.a.createElement("div",{className:ae.a.details__label},y.length," \u043e\u0431\u0449\u0438\u0445 \u041d\u041f \u0438\u0437 ",n.common_count),y.map((function(e){return d.a.createElement("div",{key:"cluster_common_detail_".concat(e),className:ae.a.details__item},e)})),n.common_count>5&&d.a.createElement("div",{className:ae.a.details__all,onClick:p},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435\u0445"))),d.a.createElement(K.a,{source:{inn:n.source_inn,name:n.source_name,label:n.source_type},target:{inn:n.target_inn,name:n.target_name,label:n.target_type},withArrow:!1})),d.a.createElement("div",{className:ae.a.icon,onClick:p},d.a.createElement(B,{"data-tip":"React-tooltip","data-for":"openClusterLink"})),d.a.createElement($.a,{place:"top",type:"dark",effect:"float",id:"openClusterLink",delayShow:200},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u0430\u043b\u043e\u0433\u043e\u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0430\u043c\u0438"))})),ne=t(789),ce=t.n(ne),le=Object(_.d)((function(e){var a=e.className,t=e.commonItem,n=e.allIsOpen,c=e.typeId,l=e.subtypeId,r=Object(T.a)(e,["className","commonItem","allIsOpen","typeId","subtypeId"]),o=Object(m.b)().clusterStore.checkCommon;return d.a.createElement(z,Object.assign({className:"".concat(a," ").concat(ce.a.item)},r,{level:3,links:t.links.length,name:"".concat(t.common_inn," ").concat(t.common_name),allIsOpen:n,checked:t.checked,onCheck:function(){return o(c,l,t.common_inn)}}),t.links&&d.a.createElement("div",{className:ce.a.links},t.links.map((function(e){return d.a.createElement(te,{key:"cluster_link_".concat(e.link_id),link:e,typeId:c,subtypeId:l})}))))})),re=t(790),oe=t.n(re),ie=Object(_.d)((function(e){var a=e.className,t=e.typeId,n=e.subtype,c=e.allIsOpen,l=Object(T.a)(e,["className","typeId","subtype","allIsOpen"]),r=Object(m.b)().clusterStore.checkSubtype;return d.a.createElement(z,Object.assign({className:"".concat(a," ").concat(oe.a.subtype)},l,{level:2,links:n.links_count,name:n.subtype_name,allIsOpen:c,checked:n.checked,onCheck:function(){return r(t,n.subtype_id)}}),n.common_items&&d.a.createElement("div",{className:oe.a.commonItems},n.common_items.map((function(e){return d.a.createElement(le,{key:"cluster_commonItem_".concat(e.common_name),commonItem:e,allIsOpen:c,subtypeId:n.subtype_id,typeId:t})}))),n.links&&d.a.createElement("div",{className:oe.a.links},n.links.map((function(e){return d.a.createElement(te,{key:"cluster_link_".concat(e.link_id),link:e,withCheckbox:!0,subtypeId:n.subtype_id,typeId:t})}))))})),se=t(791),me=t.n(se),_e=Object(_.d)((function(e){var a=e.className,t=e.type,n=Object(T.a)(e,["className","type"]),c=Object(m.b)().clusterStore.checkType,l=Object(u.useState)(!1),r=Object(N.a)(l,2),o=r[0],i=r[1];return d.a.createElement(z,Object.assign({className:"".concat(a," ").concat(me.a.type)},n,{level:1,links:t.links_count,name:t.type_name,allIsOpen:o,setAllIsOpen:i,checked:t.checked,onCheck:function(){return c(t.type_id)}}),t.subtypes&&d.a.createElement("div",{className:me.a.subtypes},t.subtypes.map((function(e){return d.a.createElement(ie,{key:"cluster_subtype_".concat(e.subtype_name),subtype:e,allIsOpen:o,typeId:t.type_id})}))))}));function ue(){return(ue=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function de(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}var pe=u.createElement("path",{d:"M2.85902 2.87697L15.429 1.08197C15.5 1.07179 15.5723 1.07699 15.641 1.0972C15.7098 1.11741 15.7734 1.15216 15.8275 1.1991C15.8817 1.24605 15.9251 1.30408 15.9549 1.36928C15.9846 1.43447 16 1.5053 16 1.57697V22.423C16 22.4945 15.9846 22.5653 15.9549 22.6304C15.9252 22.6955 15.8819 22.7535 15.8279 22.8004C15.7738 22.8473 15.7103 22.8821 15.6417 22.9024C15.5731 22.9227 15.5009 22.928 15.43 22.918L2.85802 21.123C2.61964 21.089 2.40152 20.9702 2.24371 20.7883C2.08591 20.6065 1.99903 20.3738 1.99902 20.133V3.86697C1.99903 3.62618 2.08591 3.39348 2.24371 3.21161C2.40152 3.02975 2.61964 2.91092 2.85802 2.87697H2.85902ZM4.00002 4.73497V19.265L14 20.694V3.30597L4.00002 4.73497ZM17 19H20V4.99997H17V2.99997H21C21.2652 2.99997 21.5196 3.10533 21.7071 3.29286C21.8947 3.4804 22 3.73475 22 3.99997V20C22 20.2652 21.8947 20.5195 21.7071 20.7071C21.5196 20.8946 21.2652 21 21 21H17V19ZM10.2 12L13 16H10.6L9.00002 13.714L7.40002 16H5.00002L7.80002 12L5.00002 7.99997H7.40002L9.00002 10.286L10.6 7.99997H13L10.2 12Z"});function Ce(e,a){var t=e.title,n=e.titleId,c=de(e,["title","titleId"]);return u.createElement("svg",ue({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:a,"aria-labelledby":n},c),t?u.createElement("title",{id:n},t):null,pe)}var be=u.forwardRef(Ce),ve=(t.p,t(792)),he=t.n(ve),fe=Object(_.d)((function(e){var a=e.clusterId,t=e.onClose,n=Object(m.b)(),c=n.commonStore,l=c.setSearchCluster,r=(c.appTheme,n.graphStore),o=r.previouslyFetchedGraphId,_=r.ableEdit,v=r.visibleNodes,h=r.getExportCluster,f=n.clusterStore,y=f.showLinksBetweenTaxpayers,k=f.selectedTaxpayers,E=f.changeShowLinksBetweenTaxpayers,O=f.getClusterData,N=f.getClusterTaxpayers,x=f.clusterData,w=f.setClusterFilters,g=f.checkAll,j=f.allIsChecked,L=n.modalStore.closeModal,I=null===x||void 0===x?void 0:x.types,T=I&&I.reduce((function(e,a){return e+a.links_count}),0);Object(u.useEffect)((function(){l(""),O(a),N(a)}),[]);var A=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w((null===x||void 0===x?void 0:x.cluster_index)||0);case 2:L(q.b);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.a.createElement(b.a,null,d.a.createElement(b.d,{onClose:t},d.a.createElement("div",{className:he.a.header},d.a.createElement("span",null,"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430"))),d.a.createElement(b.b,{withFooter:!0},d.a.createElement("div",{className:he.a.container},d.a.createElement("div",{className:he.a.search},d.a.createElement(S,{graphId:o,origId:a})),d.a.createElement("div",{className:he.a.actions},d.a.createElement("div",{className:he.a.actions__line},d.a.createElement(C.a,{className:he.a.checkbox,onChange:E,disabled:k.length<2,checked:y,title:k.length<2?"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u041d\u041f \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 \u043f\u043e\u0438\u0441\u043a\u0430":void 0},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u0438 \u0441 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c\u0438 \u041d\u041f"),d.a.createElement("div",{className:he.a.export,onClick:function(){var e=(new Date).toLocaleString().replaceAll(",","");h(a,"\u0422\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u043e\u0442 "+e+".xlsx")}},"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 Excel ",d.a.createElement(be,null))),d.a.createElement("div",{className:he.a.actions__line},d.a.createElement(C.a,{className:he.a.checkbox,onChange:function(){return g(!j)},checked:j},"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0438"))),I&&d.a.createElement("div",{className:he.a.types},I.map((function(e){var a;return(null===e||void 0===e||null===(a=e.subtypes)||void 0===a?void 0:a.length)>0&&d.a.createElement(_e,{key:"cluster_type_".concat(e.type_id),type:e})}))),!T&&d.a.createElement("span",{className:he.a.noResults},"\u041f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0441\u0432\u044f\u0437\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430"),!1)),d.a.createElement(b.c,null,d.a.createElement("div",{className:he.a.bottomBar},d.a.createElement(p.a,{mode:"secondary",onClick:t},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),_&&!v&&d.a.createElement(p.a,{onClick:A},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"))))}));t.d(a,"default",(function(){return fe}))}}]);
//# sourceMappingURL=9.d5f64dc3.chunk.js.map
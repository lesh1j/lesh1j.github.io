(this.webpackJsonpvsa=this.webpackJsonpvsa||[]).push([[16],{805:function(e,a,t){e.exports={container:"SearchNode_container__2xxiO",loader:"SearchNode_loader__3vOTp",search:"SearchNode_search__DKQuV",list:"SearchNode_list__3fYHF",item:"SearchNode_item__2mnd9",emptyContainer:"SearchNode_emptyContainer__3zXxG",emptyText:"SearchNode_emptyText__3Y-xh",error:"SearchNode_error__3w42t",errorText:"SearchNode_errorText__2i91A",actions:"SearchNode_actions__31I_J",action:"SearchNode_action__6_oLA"}},806:function(e,a,t){e.exports={wrapper:"Nodes_wrapper__2tuvt",main:"Nodes_main__RwWlC",additional:"Nodes_additional__3su_Y",fadeIn:"Nodes_fadeIn__2DVER",additionalData:"Nodes_additionalData__eZ3PU",additionalDataContainer:"Nodes_additionalDataContainer__3kTeK",inn:"Nodes_inn__7JUAg",name:"Nodes_name__1oW3b",dataName:"Nodes_dataName__31pKk",dataValue:"Nodes_dataValue__19RWH",additionalButtonContainer:"Nodes_additionalButtonContainer__2VkP3",additionalButtonLabel:"Nodes_additionalButtonLabel__h7InT",additionalInfoIcon:"Nodes_additionalInfoIcon__e0BKL"}},990:function(e,a,t){"use strict";t.r(a);var n=t(4),o=t.n(n),r=t(7),s=t(8),i=t(10),c=t(5),d=t(15),l=t(14),m=t(0),u=t.n(m),p=t(805),h=t.n(p),_=t(192),N=t(84),v=t(91),f=t(806),E=t.n(f),S=t(21),g=t(169),C=t(200),T=function(e){Object(d.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={showAdditionalInfo:!1,hovered:!1},e.wrapperRef=u.a.createRef(),e.hoverTimeout=void 0,e.clickTimeout=void 0,e._toggleShowAdditionalInfo=function(){e.setState({showAdditionalInfo:!e.state.showAdditionalInfo})},e._onHover=function(){clearTimeout(e.hoverTimeout),e.hoverTimeout=setTimeout((function(){e.setState({hovered:!0})}),300)},e._onUnHover=function(){clearTimeout(e.hoverTimeout),e.setState({hovered:!1})},e._onClick=function(){clearTimeout(e.clickTimeout),e.clickTimeout=setTimeout(e._toggleShowAdditionalInfo,300)},e._onDoubleClickNode=function(){clearTimeout(e.clickTimeout);var a=e.props;(0,a.onSelect)(a.nodes)},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props,a=e.nodes,t=e.wrapperStyle,n=e.theme,o=this.state,r=o.hovered,s=o.showAdditionalInfo;return u.a.createElement("div",{className:"".concat(E.a.wrapper," ").concat(t),ref:this.wrapperRef,onDoubleClick:this._onDoubleClickNode,onMouseEnter:this._onHover,onMouseLeave:this._onUnHover},u.a.createElement("div",{className:E.a.main},u.a.createElement("span",{className:E.a.inn},a.inn),u.a.createElement("span",{className:E.a.name},a.name)),r&&u.a.createElement("div",{className:E.a.additional},u.a.createElement("div",{className:E.a.additionalData},u.a.createElement("div",{className:E.a.additionalDataContainer},u.a.createElement("span",{className:E.a.dataName},"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:"),u.a.createElement("span",{className:E.a.dataValue},(null===a||void 0===a?void 0:a.registration_date)?Object(g.a)(a.registration_date):"")),u.a.createElement("div",{className:E.a.additionalDataContainer},u.a.createElement("span",{className:E.a.dataName},"\u0421\u0442\u0430\u0442\u0443\u0441 \u041d\u041f:"),u.a.createElement("span",{className:E.a.dataValue},a.status))),u.a.createElement("div",{className:E.a.additionalButtonContainer},u.a.createElement("span",{className:E.a.additionalButtonLabel,onClick:this._toggleShowAdditionalInfo},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),u.a.createElement(S.b,{className:"".concat(E.a.additionalInfoIcon," ").concat(s?E.a.rotate:""),name:"arrow_down",onClick:this._toggleShowAdditionalInfo,theme:n})),s&&u.a.createElement("div",{className:E.a.additionalData},u.a.createElement("div",{className:E.a.additionalDataContainer},u.a.createElement("span",{className:E.a.dataName},"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u041d\u041f"),u.a.createElement("span",{className:E.a.dataValue},a.director)),u.a.createElement("div",{className:E.a.additionalDataContainer},u.a.createElement("span",{className:E.a.dataName},"\u041a\u043e\u0434 \u041d\u041e, \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0443\u0447\u0435\u0442:"),u.a.createElement("span",{className:E.a.dataValue},a.ufns_code)),u.a.createElement("div",{className:E.a.additionalDataContainer},u.a.createElement("span",{className:E.a.dataName},"\u0421\u0423\u0420 \u0410\u0421\u041a \u041d\u0414\u0421-2:"),u.a.createElement("span",{className:E.a.dataValue},a.score&&Object(C.a)(a.score))))))}}]),t}(m.PureComponent);T.defaultProps={wrapperStyle:""};var w,b=T,k=t(9),y=t(16),I=t(19),O=Object(k.c)("commonStore","modalStore","graphStore","diagramStore")(w=Object(k.d)(w=function(e){Object(d.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return(e=a.call.apply(a,[this].concat(i))).state={searchValue:""},e.request=void 0,e._onChange=function(a){(e.setState({searchValue:a}),0===a.length)&&e.props.commonStore.resetNodesGraphOrder()},e._onSearch=function(){var a=Object(c.a)(e),t=a.state.searchValue,n=a.props,o=n.commonStore,r=n.graphStore;o.resetNodesGraphOrder(),o.nodesGraph.pending&&(y.a.source.cancel(),o.nodesGraphPendingFalse()),t&&(o.searchNodesByTextInGraph(t,r.previouslyGraphId),o.nodesGraphPendingTrue())},e._onReset=function(){var a=e.props.commonStore;a.nodesGraph.pending||(e.setState({searchValue:""}),a.resetNodesGraphOrder())},e._onClose=function(){var a=e.props,t=a.modalStore,n=a.commonStore;n.resetNodesGraphOrder(),n.nodesGraph.pending&&(y.a.source.cancel(),n.nodesGraphPendingFalse()),t.closeModal(I.t)},e._findNode=function(){var a=Object(r.a)(o.a.mark((function a(t){var n,r,s,i,c,d,l,m,u,p,h,_,N,v,f,E;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=e.props,i=s.diagramStore,c=s.graphStore,d=t.id,l=t.inn,m=t.name,u=t.regDate,p=t.status,h=t.director,_=t.score,N=t.ufnsCode,v=t.fid,(f=null===(n=i.diagram)||void 0===n||null===(r=n.findNodesByExample({key:d}).first())||void 0===r?void 0:r.part)?(null===(E=i.diagram)||void 0===E||E.commandHandler.scrollToPart(f),f.isSelected=!0):c.focusNode({inn:l,id:d,name:m,regDate:u,status:p,director:h,score:_,ufnsCode:N,fid:v}),e._onClose();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.state.searchValue,t=this.props.commonStore;return u.a.createElement(v.a,null,u.a.createElement(v.d,{onClose:this._onClose},"\u041d\u0430\u0439\u0442\u0438 \u0443\u0437\u0435\u043b"),u.a.createElement(v.b,null,u.a.createElement("div",{className:h.a.container},u.a.createElement(N.a,{className:h.a.search,value:a,onChange:this._onChange,onSearch:this._onSearch,autoSearchTimeout:700,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",autoFocus:!0,withResetRight:!0,onReset:this._onReset,withButton:!0,theme:t.appTheme}),a.length>0&&(t.nodesGraph.error?u.a.createElement("div",{className:h.a.error},u.a.createElement("span",{className:h.a.errorText},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432")):t.nodesGraph.pending?u.a.createElement("div",{className:h.a.loader},u.a.createElement(_.a,null)):u.a.createElement("div",{className:h.a.list},t.nodesGraph.noResults?u.a.createElement("div",{className:h.a.emptyContainer},u.a.createElement("span",{className:h.a.emptyText},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432.")):t.nodesGraph.order.map((function(a,n){return u.a.createElement("div",{key:"nodes-search-list-item"+n,className:h.a.item},u.a.createElement(b,{onSelect:e._findNode,nodes:a,theme:t.appTheme}))})))))))}}]),t}(m.PureComponent))||w)||w;t.d(a,"default",(function(){return O}))}}]);
//# sourceMappingURL=16.9a6c3eb6.chunk.js.map
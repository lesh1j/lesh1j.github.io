(this.webpackJsonpvsa=this.webpackJsonpvsa||[]).push([[1],{644:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createElement("path",{d:"M6.00002 0.00300002V0H16.998C17.55 0 18 0.455 18 0.992V19.008C17.9998 19.2712 17.895 19.5235 17.7088 19.7095C17.5226 19.8955 17.2702 20 17.007 20H0.993025C0.861702 19.9991 0.731845 19.9723 0.61087 19.9212C0.489895 19.8701 0.38017 19.7957 0.287961 19.7022C0.195752 19.6087 0.122864 19.4979 0.0734597 19.3762C0.0240555 19.2545 -0.000897804 19.1243 2.4673e-05 18.993V6L6.00002 0.00300002ZM2.83002 6H6.00002V2.83L2.83002 6ZM8.00002 2V7C8.00002 7.26522 7.89467 7.51957 7.70713 7.70711C7.5196 7.89464 7.26524 8 7.00002 8H2.00002V18H16V2H8.00002Z",fill:"#006CE8"});function l(e,t){var a=e.title,l=e.titleId,c=r(e,["title","titleId"]);return n.createElement("svg",i({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},c),a?n.createElement("title",{id:l},a):null,o)}var c=n.forwardRef(l);a.p},654:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createElement("circle",{cx:7.5,cy:7.5,r:7.5,fill:"#FF6161"}),l=n.createElement("path",{d:"M4 4L11 11",stroke:"white",strokeLinecap:"round"}),c=n.createElement("path",{d:"M11 4L4 11",stroke:"white",strokeLinecap:"round"});function u(e,t){var a=e.title,u=e.titleId,s=r(e,["title","titleId"]);return n.createElement("svg",i({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},s),a?n.createElement("title",{id:u},a):null,o,l,c)}var s=n.forwardRef(u);a.p},797:function(e,t,a){e.exports={container:"CreateLinkDetail_container__1PLsR",header:"CreateLinkDetail_header__3yAaX",header_level2:"CreateLinkDetail_header_level2__1BYlZ",header_text:"CreateLinkDetail_header_text__1Ki84",close_icon:"CreateLinkDetail_close_icon__3qT-O",basic_information_container:"CreateLinkDetail_basic_information_container__NRSdM",input_information_container:"CreateLinkDetail_input_information_container__3jChv",buttons:"CreateLinkDetail_buttons__2qs0F",data_action_button:"CreateLinkDetail_data_action_button__3Jte4",container_validation:"CreateLinkDetail_container_validation__2qoeS",error_icon:"CreateLinkDetail_error_icon__35din",button:"CreateLinkDetail_button__2E6UF"}},798:function(e,t,a){e.exports={data_container:"InputInformation_data_container__2VZfs",data_input:"InputInformation_data_input__2Dwlc",files:"InputInformation_files__2G_lj",red_star:"InputInformation_red_star__3wAmJ",data_table:"InputInformation_data_table__2cTC1",data_table_header:"InputInformation_data_table_header__1ynVp",data_table_tbody:"InputInformation_data_table_tbody__pUUOS",data_big:"InputInformation_data_big__fQI8o",error:"InputInformation_error__2D9IY",data_label:"InputInformation_data_label__35yvp",file_list:"InputInformation_file_list__1zyjY",file_list_item:"InputInformation_file_list_item__3S2UC",file_list_item_remove:"InputInformation_file_list_item_remove__29YWD",data_action_button:"InputInformation_data_action_button__2muyN",labelBold:"InputInformation_labelBold__2PW7E",labelThin:"InputInformation_labelThin__1HDNt",dataHeader:"InputInformation_dataHeader__2-U8D",data_small:"InputInformation_data_small__DjR7O"}},799:function(e,t,a){e.exports={label:"InputLabelEdit_label__1uv40",custom_input:"InputLabelEdit_custom_input__1TAwD",spanTooltip:"InputLabelEdit_spanTooltip__15H9P",required:"InputLabelEdit_required__6Vr3P"}},800:function(e,t,a){e.exports={container:"ValidationInput_container__32wcl",header:"ValidationInput_header__2H_n-",item:"ValidationInput_item__1FpZw",error_icon:"ValidationInput_error_icon___ymaT"}},801:function(e,t,a){e.exports={fileContainer:"AttachmentFiles_fileContainer__3CpQR",actions:"AttachmentFiles_actions__1xixc",active:"AttachmentFiles_active__ZESeS",action:"AttachmentFiles_action__NFz08",fileList:"AttachmentFiles_fileList__3eBs-",fileItem:"AttachmentFiles_fileItem__12Wtc",fileItemRemove:"AttachmentFiles_fileItemRemove__3JKx7",addFile:"AttachmentFiles_addFile__3JWPQ",title:"AttachmentFiles_title__13faV",comment:"AttachmentFiles_comment__2WxfC",filesTooltip:"AttachmentFiles_filesTooltip__1AsWD",fileIcon:"AttachmentFiles_fileIcon__37soW",fileLabel:"AttachmentFiles_fileLabel__2pRHQ"}},979:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a.n(n),r=a(7),o=a(8),l=a(10),c=a(15),u=a(14),s=a(2),d=a(0),p=a.n(d),m=a(797),_=a.n(m),f=a(9),b=a(798),h=a.n(b),v=a(20),g=a(799),y=a.n(g),k=a(36),O=function(e){var t=e.label,a=e.onChange,n=e.onKeyUp,i=e.value,r=e.disabled,o=e.isToolTip,l=e.toolTipText,c=e.toolTipID,u=e.maxLength,s=e.isRequired,d=e.placeholder,m=Object(v.a)(e,["label","onChange","onKeyUp","value","disabled","isToolTip","toolTipText","toolTipID","maxLength","isRequired","placeholder"]);return p.a.createElement("div",m,p.a.createElement("span",{className:y.a.label},t," ",s&&p.a.createElement("span",{className:y.a.required},"(\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)")),p.a.createElement("input",{disabled:r,className:y.a.custom_input,type:"text",defaultValue:i,onChange:a,onKeyUp:n,"data-tip":o?"React-tooltip":"","data-for":o?c:null,maxLength:u,placeholder:d}),o?p.a.createElement(k.a,{place:"bottom",type:"dark",effect:"float",id:c,delayShow:200},p.a.createElement("span",{className:y.a.spanTooltip},l)):"")};O.defaultProps={disabled:!1};var E,j,I,w,T,C,S,x,D,F,L,N,V,M,A,q,R,P=O,z=a(41),H=a(3),Z=(a(34),a(1)),B=new(E=function(){function e(){Object(o.a)(this,e),Object(H.a)(this,"linkTotal",j,this),Object(H.a)(this,"linkAutor",I,this),Object(H.a)(this,"linkDate",w,this),Object(H.a)(this,"linkSource",T,this),Object(H.a)(this,"linkComment",C,this),Object(H.a)(this,"isValidFile",S,this),Object(H.a)(this,"attach_documents",x,this),Object(H.a)(this,"invalidFiles",D,this),Object(H.a)(this,"fileName",F,this),Object(H.a)(this,"allowTypes",L,this),Object(H.a)(this,"attachFiles",N,this),Object(H.a)(this,"clearForm",V,this),Object(H.a)(this,"setIsValidFile",M,this),Object(H.a)(this,"changeTotal",A,this),Object(H.a)(this,"changeSource",q,this),Object(H.a)(this,"changeComment",R,this)}return Object(l.a)(e,[{key:"getTotal",get:function(){return this.linkTotal}},{key:"getAutor",get:function(){return this.linkAutor}},{key:"getDate",get:function(){return this.linkDate}},{key:"getSource",get:function(){return this.linkSource}},{key:"getComment",get:function(){return this.linkComment}}]),e}(),j=Object(s.a)(E.prototype,"linkTotal",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=Object(s.a)(E.prototype,"linkAutor",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=Object(s.a)(E.prototype,"linkDate",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=Object(s.a)(E.prototype,"linkSource",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=Object(s.a)(E.prototype,"linkComment",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=Object(s.a)(E.prototype,"isValidFile",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=Object(s.a)(E.prototype,"attach_documents",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=Object(s.a)(E.prototype,"invalidFiles",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=Object(s.a)(E.prototype,"fileName",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=Object(s.a)(E.prototype,"allowTypes",[Z.q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{rtf:!0,doc:!0,docx:!0,pdf:!0,xls:!0,xlsx:!0,txt:!0}}}),N=Object(s.a)(E.prototype,"attachFiles",[Z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.invalidFiles=[];var a=t.map((function(e){return{stream:e,file_name:e.name}})).filter((function(t){var a=t.file_name;if(a.split(".").pop()in e.allowTypes)return!0;e.invalidFiles.push(a)}));e.attach_documents=[].concat(Object(z.a)(e.attach_documents),Object(z.a)(a))}}}),V=Object(s.a)(E.prototype,"clearForm",[Z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.linkComment="",e.linkTotal="",e.linkSource="",e.attach_documents=[],e.invalidFiles=[],e.fileName="",e.isValidFile=!1}}}),Object(s.a)(E.prototype,"getTotal",[Z.h],Object.getOwnPropertyDescriptor(E.prototype,"getTotal"),E.prototype),Object(s.a)(E.prototype,"getAutor",[Z.h],Object.getOwnPropertyDescriptor(E.prototype,"getAutor"),E.prototype),Object(s.a)(E.prototype,"getDate",[Z.h],Object.getOwnPropertyDescriptor(E.prototype,"getDate"),E.prototype),Object(s.a)(E.prototype,"getSource",[Z.h],Object.getOwnPropertyDescriptor(E.prototype,"getSource"),E.prototype),Object(s.a)(E.prototype,"getComment",[Z.h],Object.getOwnPropertyDescriptor(E.prototype,"getComment"),E.prototype),M=Object(s.a)(E.prototype,"setIsValidFile",[Z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isValidFile=t}}}),A=Object(s.a)(E.prototype,"changeTotal",[Z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.target.value=t.target.value.replace(/[^\d]/g,"").toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),e.linkTotal=t.target.value}}}),q=Object(s.a)(E.prototype,"changeSource",[Z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.linkSource=t.target.value}}}),R=Object(s.a)(E.prototype,"changeComment",[Z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.linkComment=t.target.value}}}),E),U=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);var i=new Date,r=(i.getDate()<10?"0"+i.getDate():i.getDate())+"."+(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"."+i.getFullYear()+" "+(i.getHours()<10?"0"+i.getHours():i.getHours())+":"+(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+":"+(i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds());return n.state={date:r},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.date;B.linkDate=e}},{key:"render",value:function(){var e=this.props,t=e.linkTotalError,a=e.linkSourceError,n=e.typeId,i=e.subtypeId,r=this.state.date;return p.a.createElement("div",null,p.a.createElement("div",{className:h.a.data_container},p.a.createElement("div",{className:h.a.dataHeader},p.a.createElement("span",{className:h.a.labelBold},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0432\u044f\u0437\u0438"),p.a.createElement("span",null,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",p.a.createElement("span",{className:h.a.labelBold},r))),p.a.createElement("div",null,1===n&&p.a.createElement(P,{disabled:!i,className:"".concat(h.a.data_small," ").concat(t?h.a.error:""),value:"",label:"\u0421\u0443\u043c\u043c\u0430, \u20bd",onChange:function(){},onKeyUp:function(e){return B.changeTotal(e)},maxLength:15,isRequired:!0,placeholder:"0"}),p.a.createElement(P,{disabled:!i,className:"".concat(h.a.data_big," ").concat(h.a.required," ").concat(a?h.a.error:""),value:"",label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",onChange:function(e){return B.changeSource(e)},isToolTip:!0,toolTipText:"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0441\u0432\u044f\u0437\u0438",toolTipID:"sourceToolTipLink",isRequired:!0,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),p.a.createElement(P,{disabled:!i,className:h.a.data_big,value:"",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onChange:function(e){return B.changeComment(e)},placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}))))}}]),a}(d.PureComponent),G=a(191),K=a(800),W=a.n(K);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var Q=d.createElement("circle",{cx:7.5,cy:7.5,r:7.5,fill:"#FF6161"}),X=d.createElement("path",{d:"M4 4L11 11",stroke:"white",strokeLinecap:"round"}),$=d.createElement("path",{d:"M11 4L4 11",stroke:"white",strokeLinecap:"round"});function ee(e,t){var a=e.title,n=e.titleId,i=Y(e,["title","titleId"]);return d.createElement("svg",J({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?d.createElement("title",{id:n},a):null,Q,X,$)}var te,ae,ne,ie=d.forwardRef(ee),re=(a.p,function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.labelRequired,a=e.isRequired,n=e.isValidation,i=e.labelValidation;return p.a.createElement("div",{className:"".concat(W.a.container)},p.a.createElement("div",{className:"".concat(W.a.header)},"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438"),a&&p.a.createElement("div",null,t.map((function(e,t){return p.a.createElement("div",{key:t,className:"".concat(W.a.item)},p.a.createElement(ie,{className:"".concat(W.a.error_icon)}),'\u041f\u043e\u043b\u0435 "',e,'" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f')}))),n&&p.a.createElement("div",null,i.map((function(e,t){return p.a.createElement("div",{key:t,className:"".concat(W.a.item)},p.a.createElement(ie,{className:"".concat(W.a.error_icon)}),'\u0414\u0430\u043d\u043d\u044b\u0435 \u0432 \u043f\u043e\u043b\u0435 "',e,'" \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443 \u0432\u0432\u043e\u0434\u0430')}))))}}]),a}(d.PureComponent)),oe=a(44),le=a(801),ce=a.n(le),ue=a(21),se=a(644),de=Object(f.c)("graphStore","commonStore")(te=Object(f.d)(te=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fileInput=void 0,n.state={dragActive:!1},n._onItemRemove=function(e,t){e.stopPropagation();var a=Object(z.a)(B.attach_documents).filter((function(e){return e.file_name!==t}));Object(Z.s)((function(){B.attach_documents=Object(z.a)(a)}))},n._onDrag=function(e){e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?n.setState({dragActive:!0}):"dragleave"===e.type&&n.setState({dragActive:!1})},n._onChangeFiles=function(e){var t=e.target.files?Object(z.a)(e.target.files):[];B.attachFiles(t)},n._onDropFiles=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files?Object(z.a)(e.dataTransfer.files):[];B.attachFiles(t),n.setState({dragActive:!1})},n._renderFileList=function(){var e=n.props,t=e.commonStore,a=e.graphStore;return B.attach_documents.map((function(e){return p.a.createElement("div",{key:"file-list-item-"+e.file_name,className:ce.a.fileItem,onClick:function(){return null===a||void 0===a?void 0:a.getUploadedDocument(e.document_id,e.file_name)}},p.a.createElement("div",{className:ce.a.fileLabel},p.a.createElement(se.a,{className:ce.a.fileIcon}),p.a.createElement("span",{className:ce.a.fileItemLabel},e.file_name)),p.a.createElement(ue.b,{className:ce.a.fileItemRemove,name:"close",onClick:function(t){return n._onItemRemove(t,e.file_name)},theme:null===t||void 0===t?void 0:t.appTheme}))}))},n.fileInput=p.a.createRef(),n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",null,p.a.createElement("input",{type:"file",accept:".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel.doc,.docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword.pdf,application/pdf,.txt,.rft",ref:this.fileInput,onChange:this._onChangeFiles,multiple:!0,style:{display:"none"}}),p.a.createElement("div",{className:ce.a.fileContainer},p.a.createElement("span",{className:ce.a.data_label},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),p.a.createElement("div",{className:"".concat(ce.a.actions," ").concat(this.state.dragActive&&ce.a.active),onDragEnter:this._onDrag,onDragLeave:this._onDrag,onDragOver:this._onDrag,onDrop:this._onDropFiles},p.a.createElement("div",{className:ce.a.action},p.a.createElement(oe.a,{onClick:function(){var e;return null===(e=t.fileInput.current)||void 0===e?void 0:e.click()},mode:"secondary"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b")),p.a.createElement("div",{className:ce.a.filesTooltip},p.a.createElement("span",{className:ce.a.title},"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"))),p.a.createElement("div",{className:ce.a.fileList},(null===(e=B.attach_documents)||void 0===e?void 0:e.length)>0&&this._renderFileList()))))}}]),a}(d.PureComponent))||te)||te,pe=a(654),me=Object(f.c)("modalStore","graphStore","diagramStore")(ae=Object(f.d)((ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e))._checkError=function(){var e=n.props.typeId,t=!1,a=!1,i=!1,r=[],o=[],l=B.linkTotal.replaceAll(" ","").match(/^[0-9]+(?:,[0-9]{1,2})?$/);n.setState({labelRequired:[],labelValidation:[]}),1===e&&(B.linkTotal?l?(n.setState({linkTotalError:!1,isValidation:!1}),i=!1,t=!1):(o.push("\u0421\u0443\u043c\u043c\u0430, \u0440\u0443\u0431."),n.setState({isValidation:!0,isShowError:!0,labelValidation:o,linkTotalError:!0}),i=!0):(r.push("\u0421\u0443\u043c\u043c\u0430, \u0440\u0443\u0431."),n.setState({isRequired:!0,isShowError:!0,labelRequired:r,linkTotalError:!0}),t=!0)),B.linkSource?(n.setState({linkSourceError:!1}),a=!1):(r.push("\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),n.setState({isRequired:!0,isShowError:!0,labelRequired:r,linkSourceError:!0}),a=!0),a||t||i||(n.setState({isShowError:!1,isValidation:!1,isRequired:!1}),n._createNewLink())},n.state={isShowError:!1,labelRequired:[],labelValidation:[],isRequired:!1,isValidation:!1,linkTotalError:!1,linkSourceError:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){B.clearForm()}},{key:"_createNewLink",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t,a,n,r,o,l,c,u,s,d,p,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.props.modalStore)||void 0===t||t.closeModal("MODAL_CREATE_LINK"),a=this.props,n=a.fromNode,r=a.toNode,o=a.typeId,l=a.subtypeId,c=a.graphStore,u=a.createLinkModeV3,s=a.modeLink,d=a.isFL,!u){e.next=23;break}if(!d){e.next=14;break}if("from"!==s){e.next=10;break}return e.next=8,null===c||void 0===c?void 0:c.createNodeFL({phys_person:n},u).then((function(){null===c||void 0===c||c.fetchGraph(null===c||void 0===c?void 0:c.previouslyFetchedGraphId,null,!1,u).then((function(){var e;c.createNewLink({source_id:null===c||void 0===c?void 0:c.nodeIDMoveV3,target_id:"ModeV3"===(null===c||void 0===c?void 0:c.graphTransformMode)&&(null===(e=r.indicators_bottom)||void 0===e?void 0:e.some((function(e){return"Zombie"===e.name})))?r.key:r.orig_id,type_id:o,subtype_id:l,description:B.linkComment,value:B.linkTotal.replaceAll(" ",""),info_source:B.linkSource,attach_documents:B.attach_documents})}))}));case 8:e.next=12;break;case 10:return e.next=12,null===c||void 0===c?void 0:c.createNodeFL({phys_person:r},u).then((function(){null===c||void 0===c||c.fetchGraph(null===c||void 0===c?void 0:c.previouslyFetchedGraphId,null,!1,u).then((function(){var e;c.createNewLink({source_id:"ModeV3"===(null===c||void 0===c?void 0:c.graphTransformMode)&&(null===(e=n.indicators_bottom)||void 0===e?void 0:e.some((function(e){return"Zombie"===e.name})))?n.key:n.orig_id,target_id:null===c||void 0===c?void 0:c.nodeIDMoveV3,type_id:o,subtype_id:l,description:B.linkComment,value:B.linkTotal.replaceAll(" ",""),info_source:B.linkSource,attach_documents:B.attach_documents})}))}));case 12:e.next=21;break;case 14:if("from"!==s){e.next=19;break}return e.next=17,null===c||void 0===c?void 0:c.createNode(n,u).then((function(){null===c||void 0===c||c.fetchGraph(null===c||void 0===c?void 0:c.previouslyFetchedGraphId,null,!1,u).then((function(){var e;c.createNewLink({source_id:null===c||void 0===c?void 0:c.nodeIDMoveV3,target_id:"ModeV3"===(null===c||void 0===c?void 0:c.graphTransformMode)&&(null===(e=r.indicators_bottom)||void 0===e?void 0:e.some((function(e){return"Zombie"===e.name})))?r.key:r.orig_id,type_id:o,subtype_id:l,description:B.linkComment,value:B.linkTotal.replaceAll(" ",""),info_source:B.linkSource,attach_documents:B.attach_documents})}))}));case 17:e.next=21;break;case 19:return e.next=21,null===c||void 0===c?void 0:c.createNode(r,u).then((function(){null===c||void 0===c||c.fetchGraph(null===c||void 0===c?void 0:c.previouslyFetchedGraphId,null,!1,u).then((function(){var e;c.createNewLink({source_id:"ModeV3"===(null===c||void 0===c?void 0:c.graphTransformMode)&&(null===(e=n.indicators_bottom)||void 0===e?void 0:e.some((function(e){return"Zombie"===e.name})))?n.key:n.orig_id,target_id:null===c||void 0===c?void 0:c.nodeIDMoveV3,type_id:o,subtype_id:l,description:B.linkComment,value:B.linkTotal.replaceAll(" ",""),info_source:B.linkSource,attach_documents:B.attach_documents})}))}));case 21:e.next=25;break;case 23:return e.next=25,c.createNewLink({source_id:"ModeV3"===(null===c||void 0===c?void 0:c.graphTransformMode)&&(null===(p=n.indicators_bottom)||void 0===p?void 0:p.some((function(e){return"Zombie"===e.name})))?n.key:n.orig_id,target_id:"ModeV3"===(null===c||void 0===c?void 0:c.graphTransformMode)&&(null===(m=r.indicators_bottom)||void 0===m?void 0:m.some((function(e){return"Zombie"===e.name})))?r.key:r.orig_id,type_id:o,subtype_id:l,description:B.linkComment,value:B.linkTotal.replaceAll(" ",""),info_source:B.linkSource,attach_documents:B.attach_documents});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props,a=t.nameTitle,n=t.typeId,i=t.subtypeId,r=t.onClose,o=this.state,l=o.isShowError,c=o.labelRequired,u=o.isRequired,s=o.linkTotalError,d=o.linkSourceError,m=o.labelValidation,f=o.isValidation,b=1===n&&!B.linkTotal||!B.linkSource;return p.a.createElement("div",{className:_.a.container},p.a.createElement("div",{className:_.a.input_information_container},p.a.createElement(U,{disabled:!1,nameTitle:a,linkTotalError:s,linkSourceError:d,typeId:n,subtypeId:i})),l&&p.a.createElement(re,{labelRequired:c,isRequired:u,labelValidation:m,isValidation:f}),p.a.createElement("div",{className:_.a.input_information_container},(null===B||void 0===B||null===(e=B.invalidFiles)||void 0===e?void 0:e.length)>0&&(null===B||void 0===B?void 0:B.invalidFiles.map((function(e){return p.a.createElement("div",{className:"".concat(_.a.container_validation)},p.a.createElement(pe.a,{className:"".concat(_.a.error_icon)}),"\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",e," \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u0440\u0447\u0435\u043d. \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0432 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432: .rtf, .doc, .docx, .pdf, .xls, .xlsx, .txt.")}))),p.a.createElement(de,null)),p.a.createElement("div",{className:_.a.buttons},p.a.createElement(G.a,{onClick:r,mode:"transparent"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),p.a.createElement(G.a,{disabled:b,onClick:this._checkError},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c")))}}]),a}(d.PureComponent),Object(s.a)(ne.prototype,"componentDidMount",[Z.f],Object.getOwnPropertyDescriptor(ne.prototype,"componentDidMount"),ne.prototype),ae=ne))||ae)||ae;a.d(t,"default",(function(){return me}))}}]);
//# sourceMappingURL=1.3e12637b.chunk.js.map
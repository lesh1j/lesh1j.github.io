{"version":3,"sources":["utils/ui/fromUtcToLocale.ts","components/modals/SearchList/SearchList.module.scss","assets/icons/arrow_circle.svg","components/modals/SearchList/SearchList.tsx","components/modals/SearchList/index.ts"],"names":["fromUtcToLocale","utcDate","separator","split","date","time","day","month","year","Date","toLocaleString","replace","module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgArrowCircle","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","ForwardRef","observer","onClose","useStores","commonStore","appTheme","searchListStore","fetchSearchList","searchList","isLoading","goToChains","goToBeginning","statusMap","mainStatus","useEffect","typesMap","action","search","Modal","withFooter","className","styles","loader","Loader","wrapper","header","status","name","label","list","map","item","col","description","value","order","queued_at","finished_at","data-tip","data-for","icon","onClick","place","type","effect","delayShow","noresult","bottomBar","Button","mode"],"mappings":"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","file":"static/js/18.60cb3717.chunk.js","sourcesContent":["export const fromUtcToLocale = (utcDate: string, separator: string = ' ') => {\r\n  const [date, time] = utcDate.split(separator);\r\n  const [day, month, year] = date.split('.');\r\n\r\n  return new Date(`${year}-${month}-${day} ${time} UTC`).toLocaleString('ru-RU').replace(',', '');\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SearchList_wrapper__3JmSZ\",\"header\":\"SearchList_header__3Wnrf\",\"mainStatus\":\"SearchList_mainStatus__QMN6s\",\"item\":\"SearchList_item__3FMgM\",\"col\":\"SearchList_col__2DncB\",\"label\":\"SearchList_label__1_F_U\",\"icon\":\"SearchList_icon__3LrBE\",\"status\":\"SearchList_status__3wR6R\",\"process\":\"SearchList_process__2vTi9\",\"success\":\"SearchList_success__2S7_8\",\"error\":\"SearchList_error__2chj7\",\"bottomBar\":\"SearchList_bottomBar__2hH-o\",\"loader\":\"SearchList_loader__3Nisr\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 11V8L16 12L12 16V13H8V11H12ZM12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20Z\"\n});\n\nfunction SvgArrowCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowCircle);\nexport default __webpack_public_path__ + \"static/media/arrow_circle.245c8be5.svg\";\nexport { ForwardRef as ReactComponent };","import { useStores } from 'hooks';\r\nimport { observer } from 'mobx-react';\r\nimport React, { useEffect } from 'react';\r\nimport { fromUtcToLocale } from 'utils/ui/fromUtcToLocale';\r\n\r\nimport Button from 'components/Button/Button';\r\nimport Loader from 'components/Loader';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from '../Modal';\r\n\r\nimport { ReactComponent as ArrowIcon } from 'assets/icons/arrow_circle.svg';\r\n\r\nimport { ISearchListResponse } from 'ApiModel';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport styles from './SearchList.module.scss';\r\n\r\nconst SearchList = ({ onClose }: { onClose: () => void }) => {\r\n  const {\r\n    commonStore: { appTheme },\r\n    searchListStore: {\r\n      fetchSearchList,\r\n      searchList,\r\n      isLoading,\r\n      goToChains,\r\n      goToBeginning,\r\n      statusMap,\r\n      mainStatus,\r\n    },\r\n  } = useStores();\r\n\r\n  useEffect(() => {\r\n    fetchSearchList();\r\n  }, []);\r\n\r\n  const typesMap = {\r\n    'Поиск кратчайших цепочек': {\r\n      action: goToChains,\r\n    },\r\n    'Поиск налогоплательщиков': {\r\n      action: goToBeginning,\r\n    },\r\n    'Отчет Выгрузка узлов': {\r\n      action: (search: ISearchListResponse) => false,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalHeader onClose={onClose}>Очередь поиска</ModalHeader>\r\n\r\n      <ModalBody withFooter={true}>\r\n        {isLoading && (\r\n          <div className={styles.loader}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n\r\n        <div className={styles.wrapper}>\r\n          {mainStatus && (\r\n            <div className={styles.header}>\r\n              Общий статус:\r\n              <div className={styles.mainStatus}>\r\n                <div className={`${styles.status} ${styles[mainStatus.name]}`}></div>\r\n                <div className={styles.label}>{mainStatus.label}</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className={styles.list}>\r\n            {searchList.length > 0 ? (\r\n              searchList.map((item) => {\r\n                const status = statusMap?.[item.status] || {\r\n                  name: 'undefined',\r\n                  label: 'Не определён',\r\n                };\r\n\r\n                return (\r\n                  <div className={styles.item}>\r\n                    <div className={styles.col}>{item.description}</div>\r\n\r\n                    <div className={styles.col}>\r\n                      <div className={styles.label}>№</div>\r\n                      <div className={styles.value}>{item.order || '-'}</div>\r\n                    </div>\r\n\r\n                    <div className={styles.col}>\r\n                      <div className={styles.label}>{status.label}</div>\r\n                      <div className={styles.value}>\r\n                        <div className={`${styles.status} ${styles[status.name]}`}></div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className={styles.col}>\r\n                      <div className={styles.label}>Дата и время запуска</div>\r\n                      <div className={styles.value}>\r\n                        {item?.queued_at ? fromUtcToLocale(item.queued_at, 'T') : '-'}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className={styles.col}>\r\n                      <div className={styles.label}>Дата и время завершения</div>\r\n                      <div className={styles.value}>\r\n                        {item?.finished_at ? fromUtcToLocale(item.finished_at, 'T') : '-'}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className={styles.col} data-tip=\"React-tooltip\" data-for=\"tooltip-search\">\r\n                      {item.status !== 3 && (\r\n                        <>\r\n                          <ArrowIcon\r\n                            className={styles.icon}\r\n                            onClick={() => typesMap?.[item.description]?.action(item)}\r\n                          />\r\n\r\n                          <ReactTooltip\r\n                            place=\"right\"\r\n                            type=\"dark\"\r\n                            effect=\"solid\"\r\n                            id=\"tooltip-search\"\r\n                            delayShow={400}\r\n                          >\r\n                            Результаты поиска\r\n                          </ReactTooltip>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <div className={styles.noresult}>Данные не найдены</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </ModalBody>\r\n\r\n      <ModalFooter>\r\n        <div className={styles.bottomBar}>\r\n          <Button mode=\"secondary\" onClick={onClose}>\r\n            Закрыть\r\n          </Button>\r\n        </div>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default observer(SearchList);\r\n","export { default } from './SearchList';\r\n"],"sourceRoot":""}
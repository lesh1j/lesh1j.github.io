{"version":3,"sources":["utils/ui/fromUtcToLocale.ts","containers/UserGraphs/List/List.module.scss","containers/UserGraphs/ListItem/ListItem.module.scss","containers/UserGraphs/UserGraphs.module.scss","containers/UserGraphs/ListItem/assets/edit.svg","containers/UserGraphs/ListItem/assets/delete.svg","containers/UserGraphs/ListItem/assets/openScheme.svg","containers/UserGraphs/ListItem/assets/contextMenu.svg","containers/UserGraphs/ListItem/ListItem.tsx","containers/UserGraphs/List/List.tsx","containers/UserGraphs/UserGraphs.tsx","containers/UserGraphs/index.ts"],"names":["fromUtcToLocale","utcDate","separator","split","date","time","day","month","year","Date","toLocaleString","replace","module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgEdit","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","ref","id","ForwardRef","SvgDelete","SvgOpenScheme","SvgContextMenu","ListItem","inject","observer","inputRef","createRef","contextMenuRef","_onClick","event","isShowContextMenu","state","current","contains","_onEditEnd","setState","_handleClick","toggleMenuState","uiStore","onClick","item","editing","graph_id","_onChange","value","_onEdit","preventDefault","onEdit","_onEditStart","stopPropagation","_onReset","e","_onDelete","onDelete","showContextMenu","topCoordinate","offsetY","name","window","addEventListener","removeEventListener","theme","pending","isShowDelete","isShowEdit","className","styles","wrapper","editContainer","onSubmit","autoFocus","type","input","onChange","Icon","close","updated","ActionButton","buttonStyle","button","label","icon","openSchemeIcon","isFrontIcon","actions","contextMenuIcon","contextMenu","style","top","contextMenuItem","action","edit","delete","PureComponent","defaultProps","List","userGraphsStore","diagramStore","graphStore","onSearch","deleteGraph","then","previouslyGraphId","diagram","clear","deleteSchemeInfo","fetchUserGraphs","_onEditName","a","editGraph","renameGraph","_onOpenGraph","onClose","filterStore","indicatorsStore","clusterStore","commonStore","closeBeginningWork","showFilters","getGraphFilters","showAllFilters","filter","setFilterClusterFalse","fetchGraph","userGraphs","list","map","index","appTheme","showDeleteGraph","showCreateGraph","UserGraphs","searchValue","_onSearch","search","text","resetSearch","resetPagination","_onSave","_onCancel","_onClose","modalStore","closeModal","modalNames","resetSort","hideGraphsList","createNewScheme","setIsShowBeginningWork","filteredUserGraphs","pagination","changePagination","startResult","page","count","endResult","Modal","headerSearch","Search","wrapperStyle","onReset","autoSearchTimeout","withSearchIcon","placeholder","Button","withFooter","withHeader","paginationWrapper","total","showPerPageOptions"],"mappings":"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","file":"static/js/12.d132e536.chunk.js","sourcesContent":["export const fromUtcToLocale = (utcDate: string, separator: string = ' ') => {\r\n  const [date, time] = utcDate.split(separator);\r\n  const [day, month, year] = date.split('.');\r\n\r\n  return new Date(`${year}-${month}-${day} ${time} UTC`).toLocaleString('ru-RU').replace(',', '');\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__2X7sh\",\"item\":\"List_item__12kMR\",\"separateLine\":\"List_separateLine__18Eg6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ListItem_wrapper__M7o1r\",\"name\":\"ListItem_name__2_2n1\",\"updated\":\"ListItem_updated__3DFch\",\"status\":\"ListItem_status__2KoZ8\",\"checkNumber\":\"ListItem_checkNumber__1hD1_\",\"actions\":\"ListItem_actions__mwlnA\",\"action\":\"ListItem_action__2Kfkx\",\"actionDisabled\":\"ListItem_actionDisabled__urG-g\",\"editContainer\":\"ListItem_editContainer__3pmRa\",\"input\":\"ListItem_input__3zLzr\",\"close\":\"ListItem_close__2HDrV\",\"button\":\"ListItem_button__2ecp9\",\"openSchemeIcon\":\"ListItem_openSchemeIcon__2KnBK\",\"contextMenuIcon\":\"ListItem_contextMenuIcon__2f7JO\",\"contextMenu\":\"ListItem_contextMenu__2Dyux\",\"contextMenuItem\":\"ListItem_contextMenuItem__1b7py\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"UserGraphs_search__ApNh_\",\"headerFixed\":\"UserGraphs_headerFixed__2GIfQ\",\"headerSearch\":\"UserGraphs_headerSearch__gsRFC\",\"paginationWrapper\":\"UserGraphs_paginationWrapper__2sUhi\",\"pagination\":\"UserGraphs_pagination__6vcfq\",\"total\":\"UserGraphs_total__11xpF\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.728 6.68602L11.314 5.27202L2 14.586V16H3.414L12.728 6.68602ZM14.142 5.27202L15.556 3.85802L14.142 2.44402L12.728 3.85802L14.142 5.27202ZM4.242 18H0V13.757L13.435 0.322022C13.6225 0.134551 13.8768 0.0292358 14.142 0.0292358C14.4072 0.0292358 14.6615 0.134551 14.849 0.322022L17.678 3.15102C17.8655 3.33855 17.9708 3.59286 17.9708 3.85802C17.9708 4.12319 17.8655 4.37749 17.678 4.56502L4.243 18H4.242Z\",\n  fill: \"#313131\"\n});\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.45f5fea6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 4H20V6H18V19C18 19.2652 17.8946 19.5196 17.7071 19.7071C17.5196 19.8946 17.2652 20 17 20H3C2.73478 20 2.48043 19.8946 2.29289 19.7071C2.10536 19.5196 2 19.2652 2 19V6H0V4H5V1C5 0.734784 5.10536 0.48043 5.29289 0.292893C5.48043 0.105357 5.73478 0 6 0H14C14.2652 0 14.5196 0.105357 14.7071 0.292893C14.8946 0.48043 15 0.734784 15 1V4ZM16 6H4V18H16V6ZM7 9H9V15H7V9ZM11 9H13V15H11V9ZM7 2V4H13V2H7Z\",\n  fill: \"#313131\"\n});\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.54f30dc6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 0.5C17.657 0.5 19 1.843 19 3.5C19 5.157 17.657 6.5 16 6.5H13C11.694 6.5 10.583 5.666 10.171 4.5H9C7.9 4.5 7 5.4 7 6.5V6.671C8.166 7.083 9 8.194 9 9.5C9 10.806 8.166 11.917 7 12.329V12.5C7 13.6 7.9 14.5 9 14.5H10.17C10.582 13.335 11.694 12.5 13 12.5H16C17.657 12.5 19 13.843 19 15.5C19 17.157 17.657 18.5 16 18.5H13C11.694 18.5 10.583 17.666 10.171 16.5H9C6.79 16.5 5 14.71 5 12.5H3C1.343 12.5 0 11.157 0 9.5C0 7.843 1.343 6.5 3 6.5H5C5 4.29 6.79 2.5 9 2.5H10.17C10.582 1.335 11.694 0.5 13 0.5H16ZM16 14.5H13C12.448 14.5 12 14.948 12 15.5C12 16.052 12.448 16.5 13 16.5H16C16.552 16.5 17 16.052 17 15.5C17 14.948 16.552 14.5 16 14.5ZM6 8.5H3C2.448 8.5 2 8.948 2 9.5C2 10.052 2.448 10.5 3 10.5H6C6.552 10.5 7 10.052 7 9.5C7 8.948 6.552 8.5 6 8.5ZM16 2.5H13C12.448 2.5 12 2.948 12 3.5C12 4.052 12.448 4.5 13 4.5H16C16.552 4.5 17 4.052 17 3.5C17 2.948 16.552 2.5 16 2.5Z\",\n  fill: \"#0B346A\"\n});\n\nfunction SvgOpenScheme(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 19,\n    height: 19,\n    viewBox: \"0 0 19 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOpenScheme);\nexport default __webpack_public_path__ + \"static/media/openScheme.f212a96d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 0.5C0.9 0.5 0 1.4 0 2.5C0 3.6 0.9 4.5 2 4.5C3.1 4.5 4 3.6 4 2.5C4 1.4 3.1 0.5 2 0.5ZM2 14.5C0.9 14.5 0 15.4 0 16.5C0 17.6 0.9 18.5 2 18.5C3.1 18.5 4 17.6 4 16.5C4 15.4 3.1 14.5 2 14.5ZM2 7.5C0.9 7.5 0 8.4 0 9.5C0 10.6 0.9 11.5 2 11.5C3.1 11.5 4 10.6 4 9.5C4 8.4 3.1 7.5 2 7.5Z\",\n  fill: \"#969696\"\n});\n\nfunction SvgContextMenu(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 4,\n    height: 19,\n    viewBox: \"0 0 4 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgContextMenu);\nexport default __webpack_public_path__ + \"static/media/contextMenu.63e4e889.svg\";\nexport { ForwardRef as ReactComponent };","import React, { createRef, PureComponent } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { listItemPropTypes } from './ListItem.props';\r\nimport styles from './ListItem.module.scss';\r\n\r\nimport { ReactComponent as EditIcon } from './assets/edit.svg';\r\nimport { ReactComponent as DeleteIcon } from './assets/delete.svg';\r\nimport { ReactComponent as OpenSchemeIcon } from './assets/openScheme.svg';\r\nimport { ReactComponent as ContextMenuIcon } from './assets/contextMenu.svg';\r\n\r\nimport Icon from '../../../components/Icon';\r\n\r\nimport { UserGraph } from 'DataTypes';\r\nimport ActionButton from '../../../components/ActionButton';\r\nimport { fromUtcToLocale } from '../../../utils/ui/fromUtcToLocale';\r\nimport { UIStoreType } from 'StoreTypes';\r\n\r\ninterface ListItemProps {\r\n  /** Хранилище состояние интерфейса */\r\n  uiStore?: UIStoreType;\r\n  item: UserGraph;\r\n  pending?: boolean;\r\n  theme?: string;\r\n  isShowDelete: boolean;\r\n  isShowEdit?: boolean;\r\n\r\n  onEdit: (id: string, name: string) => void;\r\n  onClick: (id: string) => void;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\ninterface ListItemState {\r\n  value: string;\r\n  editing: boolean;\r\n  isShowContextMenu: boolean;\r\n  topCoordinate: string;\r\n}\r\n\r\n/**\r\n * Компонент элемента списка графов пользователя\r\n */\r\n@inject('uiStore')\r\n@observer\r\nclass ListItem extends PureComponent<ListItemProps, ListItemState> {\r\n  constructor(props: ListItemProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.item.name || '',\r\n      editing: false,\r\n      isShowContextMenu: false,\r\n      topCoordinate: '',\r\n    };\r\n  }\r\n\r\n  static propTypes = listItemPropTypes;\r\n\r\n  static defaultProps = {\r\n    pending: false,\r\n  };\r\n\r\n  // указатель на элемент ввода\r\n  inputRef = createRef<HTMLInputElement>();\r\n  // указатель контекстного меню\r\n  contextMenuRef = createRef<HTMLInputElement>();\r\n\r\n  /**\r\n   * Метод обрабатывает событие клика\r\n   */\r\n  _onClick = (event: any): void => {\r\n    const { isShowContextMenu } = this.state;\r\n\r\n    if (!this.inputRef.current?.contains(event.target)) {\r\n      this._onEditEnd();\r\n    }\r\n\r\n    if (!this.contextMenuRef.current?.contains(event.target) && isShowContextMenu) {\r\n      this.setState({ isShowContextMenu: false });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Событие клика по элементу\r\n   */\r\n  _handleClick = () => {\r\n    const { toggleMenuState } = this.props.uiStore!;\r\n    const {\r\n      props: { onClick, item },\r\n      state: { editing },\r\n    } = this;\r\n\r\n    if (!editing) {\r\n      onClick(item.graph_id);\r\n    }\r\n    toggleMenuState();\r\n  };\r\n\r\n  /**\r\n   * Метод устанавливает обработчик события\r\n   */\r\n  componentDidMount() {\r\n    window.addEventListener('click', (e) => this._onClick(e));\r\n  }\r\n\r\n  /**\r\n   * Метод удаляет обработчик события\r\n   */\r\n  componentWillUnmount() {\r\n    window.removeEventListener('click', (e) => this._onClick(e));\r\n  }\r\n\r\n  /**\r\n   * Метод обрабатывает событие ввода\r\n   */\r\n  _onChange = (event: React.BaseSyntheticEvent) => {\r\n    this.setState({ value: event.target.value });\r\n  };\r\n\r\n  /**\r\n   * Метод изменения имени графа\r\n   */\r\n  _onEdit = (event: React.BaseSyntheticEvent): void => {\r\n    event.preventDefault();\r\n\r\n    const {\r\n      props: { onEdit, item },\r\n      state: { value },\r\n    } = this;\r\n\r\n    onEdit(item.graph_id, value);\r\n\r\n    this._onEditEnd();\r\n  };\r\n\r\n  /**\r\n   * Метод включает режим редактирования\r\n   */\r\n  _onEditStart = (event: React.BaseSyntheticEvent): void => {\r\n    event.stopPropagation();\r\n    this.setState({ editing: true, isShowContextMenu: false });\r\n  };\r\n\r\n  /**\r\n   * Метод выключает режим редактирования\r\n   */\r\n  _onEditEnd = (): void => {\r\n    this.setState({ editing: false });\r\n  };\r\n\r\n  /**\r\n   * Метод очищает поле ввода\r\n   */\r\n  _onReset = (e: React.BaseSyntheticEvent): void => {\r\n    e.stopPropagation();\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  /**\r\n   * Метод удаления графа\r\n   */\r\n  _onDelete = (event: React.BaseSyntheticEvent): void => {\r\n    event.stopPropagation();\r\n    this.setState({ isShowContextMenu: false });\r\n\r\n    const { onDelete, item } = this.props;\r\n    onDelete(item.graph_id);\r\n  };\r\n\r\n  showContextMenu = (event: any) => {\r\n    const { isShowContextMenu, topCoordinate } = this.state;\r\n\r\n    this.setState({ topCoordinate: event.offsetY + 'px' });\r\n    this.setState({ isShowContextMenu: !isShowContextMenu });\r\n  };\r\n\r\n  /**\r\n   * Метод отрисовывает элементы на странице\r\n   */\r\n  render() {\r\n    const {\r\n      props: { item, pending, theme, isShowDelete, isShowEdit },\r\n      state: { value, editing, isShowContextMenu, topCoordinate },\r\n    } = this;\r\n\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        {editing ? (\r\n          <form className={styles.editContainer} onSubmit={this._onEdit}>\r\n            <input\r\n              autoFocus\r\n              ref={this.inputRef}\r\n              type=\"text\"\r\n              className={`${styles.name} ${styles.input}`}\r\n              value={value}\r\n              onChange={this._onChange}\r\n            />\r\n            <Icon name=\"close\" className={styles.close} onClick={this._onReset} theme={theme} />\r\n          </form>\r\n        ) : (\r\n          <span className={styles.name}>{item.name || ''}</span>\r\n        )}\r\n        <span className={styles.updated}>{item.updated ? fromUtcToLocale(item.updated) : ''}</span>\r\n        <ActionButton\r\n          buttonStyle={styles.button}\r\n          label={'Открыть схему'}\r\n          onClick={this._handleClick}\r\n          icon={<OpenSchemeIcon className={styles.openSchemeIcon} />}\r\n          isFrontIcon\r\n        />\r\n        <div\r\n          className={styles.actions}\r\n          onClick={this.showContextMenu}\r\n          ref={this.contextMenuRef}\r\n          id={item.name}\r\n        >\r\n          <ContextMenuIcon className={styles.contextMenuIcon} />\r\n          {isShowContextMenu && (\r\n            <div className={styles.contextMenu} style={{ top: topCoordinate }}>\r\n              {isShowEdit && (\r\n                <div className={styles.contextMenuItem} onClick={this._onEditStart}>\r\n                  <EditIcon\r\n                    className={`${styles.action} ${styles.edit}`}\r\n                    title={'Редактирование наименования схемы'}\r\n                  />\r\n                  <span>Переименовать</span>\r\n                </div>\r\n              )}\r\n              {isShowDelete && (\r\n                <div className={styles.contextMenuItem} onClick={this._onDelete}>\r\n                  <DeleteIcon\r\n                    className={`${styles.action} ${styles.delete}`}\r\n                    title={'Удаление схемы'}\r\n                  />\r\n                  <span>Удалить</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListItem;\r\n","import React, { PureComponent } from 'react';\r\nimport styles from './List.module.scss';\r\n\r\nimport ListItem from '../ListItem';\r\n\r\nimport { inject, observer } from 'mobx-react';\r\n\r\nimport { UserGraph } from 'DataTypes';\r\nimport { FilterStoreType } from '../../../stores/filters/filterStore';\r\nimport { CommonStoreType } from 'stores/common/commonStore';\r\nimport { DiagramStoreType } from '../../../stores/graph/diagramStore';\r\nimport { IndicatorsStoreType } from '../../../stores/indicators/indicatorsStore';\r\nimport ClusterStore from '../../../stores/graph/graphStore/clusterStore';\r\n\r\ninterface ListProps {\r\n  userGraphsStore?: any;\r\n  graphStore?: any;\r\n  filterStore?: FilterStoreType;\r\n  commonStore?: CommonStoreType;\r\n  diagramStore?: DiagramStoreType;\r\n  indicatorsStore?: IndicatorsStoreType;\r\n  clusterStore?: ClusterStore;\r\n\r\n  onClose?: () => void;\r\n  onSearch?: () => void;\r\n}\r\n\r\n/**\r\n * Компонент списка графов\r\n */\r\n@inject(\r\n  'userGraphsStore',\r\n  'graphStore',\r\n  'filterStore',\r\n  'commonStore',\r\n  'diagramStore',\r\n  'indicatorsStore',\r\n  'clusterStore',\r\n)\r\n@observer\r\nclass List extends PureComponent<ListProps> {\r\n  /**\r\n   * Метод удаления графа\r\n   */\r\n  _onDelete = (id: string): void => {\r\n    const { userGraphsStore, diagramStore, graphStore, onSearch } = this.props;\r\n    if (userGraphsStore?.pending) return;\r\n    userGraphsStore.deleteGraph(id).then(() => {\r\n      if (graphStore.previouslyGraphId === id) {\r\n        diagramStore?.diagram?.clear();\r\n        graphStore.deleteSchemeInfo();\r\n      }\r\n      if (onSearch) onSearch();\r\n      userGraphsStore?.fetchUserGraphs();\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Метод изменения названия графа\r\n   */\r\n  _onEditName = async (id: string, name: string): Promise<void> => {\r\n    const { graphStore, userGraphsStore } = this.props;\r\n\r\n    graphStore.editGraph(id, { name });\r\n    userGraphsStore.renameGraph(id, name);\r\n  };\r\n\r\n  /**\r\n   * Метод запрашивает выбранный граф\r\n   *\r\n   * @param {string} id - идентификатор графа\r\n   */\r\n  _onOpenGraph = async (id: string) => {\r\n    const { graphStore, onClose, filterStore, indicatorsStore, clusterStore, commonStore } =\r\n      this.props;\r\n\r\n    commonStore?.closeBeginningWork();\r\n\r\n    try {\r\n      if (graphStore.showFilters) {\r\n        await filterStore?.getGraphFilters();\r\n      }\r\n\r\n      // Для того, чтобы не подтягивались фильтры по индикаторам от предыдущего графа\r\n      indicatorsStore?.showAllFilters();\r\n      indicatorsStore?.filter();\r\n\r\n      clusterStore?.setFilterClusterFalse();\r\n      await graphStore.fetchGraph(id);\r\n    } catch (err) {\r\n    } finally {\r\n      if (onClose) onClose();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Метод отрисовывает элементы на странице\r\n   */\r\n  render() {\r\n    const { userGraphsStore, commonStore, graphStore } = this.props;\r\n    const { userGraphs } = userGraphsStore;\r\n\r\n    return (\r\n      <ul className={styles.list}>\r\n        {userGraphs.map((item: UserGraph, index: number) => (\r\n          <li key={'graph-list-item' + index} className={styles.item}>\r\n            <ListItem\r\n              item={item}\r\n              onDelete={this._onDelete}\r\n              onEdit={this._onEditName}\r\n              onClick={this._onOpenGraph}\r\n              pending={userGraphsStore.pending}\r\n              theme={commonStore?.appTheme}\r\n              isShowDelete={graphStore?.showDeleteGraph && graphStore?.showCreateGraph}\r\n              isShowEdit={graphStore?.showCreateGraph}\r\n            />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;\r\n","import { inject, observer } from 'mobx-react';\r\nimport React, { PureComponent } from 'react';\r\n\r\nimport Search from '../../components/Search';\r\nimport List from './List';\r\n\r\nimport { UserGraphsStoreType } from 'stores/userGraphsStore';\r\n\r\nimport { Pagination } from '@fdc/vsa-react-lib';\r\nimport { ModalStoreType } from 'StoreTypes';\r\nimport { CommonStoreType } from 'stores/common/commonStore';\r\nimport Button from '../../components/Button';\r\nimport {\r\n  Modal,\r\n  ModalBody,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalTopBar,\r\n} from '../../components/modals/Modal';\r\nimport * as modalNames from '../../components/modals/constants/modalNames';\r\nimport styles from './UserGraphs.module.scss';\r\n\r\ninterface UserGraphsProps {\r\n  userGraphsStore?: UserGraphsStoreType;\r\n  commonStore?: CommonStoreType;\r\n  withHeader?: boolean;\r\n  onClose?: () => void;\r\n  modalStore?: ModalStoreType;\r\n}\r\n\r\ninterface UserGraphsState {\r\n  searchValue: string;\r\n}\r\n\r\n/**\r\n * Компонент 'Мои графы'\r\n */\r\n@inject('userGraphsStore', 'commonStore', 'modalStore')\r\n@observer\r\nclass UserGraphs extends PureComponent<UserGraphsProps, UserGraphsState> {\r\n  state = {\r\n    searchValue: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { userGraphsStore } = this.props;\r\n    userGraphsStore!.fetchUserGraphs();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._onReset();\r\n  }\r\n\r\n  /**\r\n   * Метод выполняет поиск по графам\r\n   */\r\n  _onSearch = (): void => {\r\n    const { searchValue } = this.state;\r\n    const { userGraphsStore } = this.props;\r\n\r\n    userGraphsStore!.search(searchValue);\r\n  };\r\n\r\n  /**\r\n   * Метод обрабатывает ввод текста в поле поиска\r\n   */\r\n  _onChange = (text: string): void => {\r\n    this.setState({ searchValue: text });\r\n  };\r\n\r\n  /**\r\n   * Метод сбрасывает поиск\r\n   */\r\n  _onReset = () => {\r\n    const { userGraphsStore } = this.props;\r\n\r\n    this._onChange('');\r\n\r\n    userGraphsStore!.resetSearch();\r\n    userGraphsStore!.resetPagination();\r\n  };\r\n\r\n  /**\r\n   * Метод сохранения\r\n   */\r\n  _onSave = (): void => {};\r\n\r\n  /**\r\n   * Метод отмены\r\n   */\r\n  _onCancel = (): void => {};\r\n\r\n  _onClose = (): void => {\r\n    const { modalStore, userGraphsStore } = this.props;\r\n    modalStore!.closeModal(modalNames.MODAL_USER_GRAPHS);\r\n\r\n    userGraphsStore!.resetSearch();\r\n    userGraphsStore!.resetSort();\r\n    userGraphsStore!.hideGraphsList();\r\n  };\r\n\r\n  createNewScheme = () => {\r\n    const { commonStore } = this.props;\r\n\r\n    this._onClose();\r\n    commonStore?.setIsShowBeginningWork();\r\n  };\r\n\r\n  /**\r\n   * Метод отрисовывает элементы на странице\r\n   */\r\n  render() {\r\n    const {\r\n      props: { commonStore, userGraphsStore },\r\n      state: { searchValue },\r\n    } = this;\r\n\r\n    const { filteredUserGraphs, pagination, changePagination } =\r\n      userGraphsStore as UserGraphsStoreType;\r\n\r\n    const startResult = pagination.page * pagination.count + 1;\r\n    const endResult = (pagination.page + 1) * pagination.count;\r\n\r\n    return (\r\n      <Modal>\r\n        <ModalHeader onClose={this._onClose}>Мои схемы</ModalHeader>\r\n\r\n        <ModalTopBar>\r\n          <div className={styles.headerSearch}>\r\n            <Search\r\n              wrapperStyle={styles.search}\r\n              onSearch={this._onSearch}\r\n              onChange={this._onChange}\r\n              onReset={this._onReset}\r\n              autoSearchTimeout={1}\r\n              value={searchValue}\r\n              withSearchIcon\r\n              placeholder={'Найти схему'}\r\n              theme={commonStore?.appTheme}\r\n            />\r\n            <Button onClick={this.createNewScheme}>Создать новую схему</Button>\r\n          </div>\r\n        </ModalTopBar>\r\n\r\n        <ModalBody withFooter={true} withHeader={true}>\r\n          <List onClose={this._onClose} onSearch={this._onSearch} />\r\n        </ModalBody>\r\n\r\n        <ModalFooter>\r\n          <div className={styles.paginationWrapper}>\r\n            <span className={styles.total}>{`Результаты: с ${startResult} по ${\r\n              endResult > pagination.total ? pagination.total : endResult\r\n            } из ${filteredUserGraphs.length}`}</span>\r\n            <Pagination\r\n              className={styles.pagination}\r\n              pagination={pagination}\r\n              showPerPageOptions\r\n              onChange={(pagination) => changePagination(pagination)}\r\n            />\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserGraphs;\r\n","export { default } from './UserGraphs';\r\n"],"sourceRoot":""}